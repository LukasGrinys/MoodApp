(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{100:function(e,t,n){e.exports={container:"ErrorBox_container__2Xlyv",fadeIn:"ErrorBox_fadeIn__1l7CO"}},101:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(102),s=n.n(o),c=n(21),l=n(8),u=n(14),i=n(20),d=n.n(i);t.a=function(){var e=Object(u.b)();return(r.a.createElement("div",{className:s.a.container},r.a.createElement("div",{className:d()(s.a.button,e&&s.a.dark),onClick:function(){window.history.back()}},r.a.createElement(c.a,{icon:l.a}),r.a.createElement("div",{className:s.a.text},"Go back"))))}},102:function(e,t,n){e.exports={container:"BackButton_container__3efh3",button:"BackButton_button__1DOSm",text:"BackButton_text__92CkS",dark:"BackButton_dark__Cwc1w"}},105:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(95),s=n.n(o),c=function(e){var t=e.children;return(r.a.createElement("h1",{className:s.a.heading},t))},l=function(e){var t=e.children;return(r.a.createElement("div",{className:s.a.formWrapper},t))},u=function(e){var t=e.children;return(r.a.createElement("span",{className:s.a.label},t))},i=function(e){var t=e.type,n=e.name,a=e.value,o=e.controlEvents,c=e.placeholder,l=o.handleChange,u=o.handleBlur;return"text"===t||"email"===t||"password"===t?r.a.createElement("input",{type:t,name:n,value:a,className:s.a.textInput,onChange:l,onBlur:u}):"textarea"===t?r.a.createElement("textarea",{name:n,onChange:l,onBlur:u,value:a,placeholder:c,className:s.a.textArea}):void 0};i.defaultProps={type:"text",name:"",value:"",controlEvents:{handleBlur:function(){},handleChange:function(){}},placeholder:""};var d=i,m=function(e){var t=e.children;return(r.a.createElement("div",{className:s.a.formFooter},t))},f=function(e){var t=e.children;return(r.a.createElement("div",{className:s.a.errorMessage},t))};n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}))},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={required:"Required field",email:"Enter a proper e-mail address",passwordMatch:"Passwords do not match",min:"Minimum count of symbols is "}},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={email:"",password:"",firstName:"",lastName:"",confirmPassword:"",currentPassword:""}},187:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(101),s=n(105),c=n(97),l=n(96),u=n(1),i=n(4),d=n.n(i),m=n(29),f=n(120),p=n(109),h=n(119),b=n(108),v=n(11),_=n.n(v),w=n(22),E=n(19),g=n(39),x=n(12),k=new(n(50).a),y=function(){var e=function(){var e=Object(a.useState)({isDeleting:!1,error:null,success:null}),t=Object(m.a)(e,2),n=t[0],r=t[1],o=n.isDeleting,s=n.success,c=n.error,l=Object(w.d)((function(e){return e.user.userData.id})),i=Object(E.f)(),v=Object(w.c)();Object(a.useEffect)((function(){if(s){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(v(Object(g.f)()));case 2:case"end":return e.stop()}})),k.remove("auth"),i.push(x.a.home)}}),[s]);var y={password:p.a.password,confirmPassword:p.a.confirmPassword},B=h.a({password:h.c().required(b.a.required),confirmPassword:h.c().oneOf([h.b("password"),null],b.a.passwordMatch)}),P=Object(f.a)({initialValues:y,validationSchema:B,onSubmit:function(e){var t,n,a,o,s,c;return d.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.password,l){i.next=3;break}return i.abrupt("return");case 3:return r((function(e){return Object(u.a)({},e,{isDeleting:!0})})),n="api/deleteAccount?id=".concat(l),a={password:t},i.prev=6,i.next=9,d.a.awrap(_.a.post(n,a));case 9:if(o=i.sent,s=o.data,!(c=s.error)){i.next=15;break}return r({isDeleting:!1,error:c,success:!1}),i.abrupt("return");case 15:r({isDeleting:!1,error:null,success:!0}),i.next=22;break;case 18:i.prev=18,i.t0=i.catch(6),console.error(i.t0),r({isDeleting:!1,error:i.t0,success:!1});case 22:case"end":return i.stop()}}),null,null,[[6,18]])}}),C=P.values,D=P.errors,N=P.isValid,O=P.handleChange,j=P.handleBlur,F=P.handleSubmit;return{values:C,errors:D,isValid:N,controlEvents:{handleChange:O,handleBlur:j},touched:P.touched,handleSubmit:F,isDeleting:o,error:c}}(),t=e.values,n=e.errors,i=e.isValid,v=e.controlEvents,y=e.touched,B=e.handleSubmit,P=e.isDeleting,C=e.error;return(r.a.createElement(a.Fragment,null,r.a.createElement(o.a,null),r.a.createElement(s.f,null,r.a.createElement(c.a,null,r.a.createElement("strong",null,"Warning: ")," deleting your account will permanently delete all your data, including all logs stored in the database."),r.a.createElement("br",null),r.a.createElement(s.c,null,"Delete account:"),r.a.createElement(s.e,null,"Enter your passsword:"),r.a.createElement(s.d,{name:"password",value:t.password,type:"password",controlEvents:v}),y.password&&n.password&&r.a.createElement(s.a,null,n.password),r.a.createElement(s.e,null,"Confirm your password:"),r.a.createElement(s.d,{name:"confirmPassword",value:t.confirmPassword,type:"password",controlEvents:v}),y.confirmPassword&&n.confirmPassword&&r.a.createElement(s.a,null,n.confirmPassword),r.a.createElement(s.b,null,r.a.createElement(l.a,{disabled:!i||P,handleClick:B},"Delete account")),C&&!P&&r.a.createElement(c.a,null,C))))};t.default=y},95:function(e,t,n){e.exports={formWrapper:"Forms_formWrapper__1mko5",heading:"Forms_heading__3bPSY",label:"Forms_label__3IUAR",textInput:"Forms_textInput__1Cd0Y",errorMessage:"Forms_errorMessage__1yEd9",formFooter:"Forms_formFooter__2wssa",textArea:"Forms_textArea__1N_0h"}},96:function(e,t,n){"use strict";var a=n(98);t.a=a.a},97:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(100),s=n.n(o),c=function(e){var t=e.children;return(r.a.createElement("div",{className:s.a.container},t))};t.a=c},98:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(99),s=n.n(o),c=n(14),l=n(20),u=n.n(l);t.a=function(e){var t=e.color,n=void 0===t?"primary":t,a=e.handleClick,o=void 0===a?function(){}:a,l=e.disabled,i=e.children,d=Object(c.b)();return r.a.createElement("button",{className:u()(s.a.button,d&&s.a.btnDark,function(e){switch(e){case"primary":return s.a.btnPrimary;case"white":return s.a.btnWhite;default:return null}}(n)),onClick:o,disabled:l,type:"button"},i)}},99:function(e,t,n){e.exports={button:"Button_button__d3qRh",btnPrimary:"Button_btnPrimary__1Qie6",btnWhite:"Button_btnWhite___q7Zi",btnDark:"Button_btnDark__19vqj"}}}]);