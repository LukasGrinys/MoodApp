(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,a){e.exports={grid:"Dashboard_grid__3hW_2",gridTop:"Dashboard_gridTop__3y_8y",gridItem:"Dashboard_gridItem__2C02j",gridItemHeader:"Dashboard_gridItemHeader__2aML3",gridItemContent:"Dashboard_gridItemContent__3zy8E",shrink:"Dashboard_shrink__3NyC-",flexCenter:"Dashboard_flexCenter__3HES0",settingsIcon:"Dashboard_settingsIcon__9ymsO"}},117:function(e,t,a){e.exports={container:"ErrorBox_container__2Xlyv",fadeIn:"ErrorBox_fadeIn__1l7CO"}},121:function(e,t,a){e.exports={pageWrapper:"logview_pageWrapper__3wW-q"}},122:function(e,t,a){e.exports={container:"SuccessBox_container__1OKsK",fadeIn:"SuccessBox_fadeIn__1MRDj"}},123:function(e,t,a){e.exports=a.p+"static/media/morning.32026445.svg"},124:function(e,t,a){e.exports=a.p+"static/media/afternoon.1bf5e1d2.svg"},125:function(e,t,a){e.exports=a.p+"static/media/evening.30a34177.svg"},132:function(e,t,a){e.exports=a(166)},15:function(e,t,a){e.exports={daytime_container:"DaytimeGraph_daytime_container__37-ve",daytime_canvas:"DaytimeGraph_daytime_canvas__2kd4F",daytime_bullet:"DaytimeGraph_daytime_bullet__1n7sv",dark:"DaytimeGraph_dark__1TICY",daytime_bullet_text:"DaytimeGraph_daytime_bullet_text__3GHJr",y_axis_number_daytime:"DaytimeGraph_y_axis_number_daytime__7UrsM",daytime_bottom_line:"DaytimeGraph_daytime_bottom_line__3prcq",daytime_time:"DaytimeGraph_daytime_time__2qwry"}},166:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(78),c=a.n(s),o=a(7),l=a(2),i=a(45),u=a(114),m=a.n(u),d=a(115),g=a(3),p={request:"CAN_LOG_REQUEST",receive:"CAN_LOG_RECEIVE"},E={request:"GET_LAST_LOGS_REQUEST",receive:"GET_LAST_LOGS_RECEIVE",reset:"GET_LAST_LOGS_RESET"},_={request:"GET_LOG_REQUEST",receive:"GET_LOG_RECEIVE",reset:"GET_LOG_RESET"},f={request:"GET_LOGS_REQUEST",receive:"GET_LOGS_RECEIVE",reset:"GET_LOGS_RESET"},v={request:"POST_LOG_REQUEST",receive:"POST_LOG_RECEIVE",reset:"POST_LOG_RESET"},h={canLog:null,lastLogs:{logs:[],error:null,isFetching:!1},singleLog:{logData:{},error:null,isFetching:!1},allLogs:{isFetching:!1,error:null,logs:[],noLogsLeft:!1},postLog:{isPosting:!1,success:null,error:null}},b={createUser:{request:"CREATE_USER_REQUEST",receive:"CREATE_USER_RECEIVE",reset:"CREATE_USER_RESET"},loginUser:{request:"LOGIN_USER_REQUEST",receive:"LOGIN_USER_RECEIVE"},clearUserData:"CLEAR_USER",userAuth:"USER_AUTH",editUser:{request:"EDIT_USER_REQUEST",receive:"EDIT_USER_RECEIVE",reset:"EDIT_USER_RESET"},changePassword:{request:"CHANGE_PASSWORD_REQUEST",receive:"CHANGE_PASSWORD_RECEIVE",reset:"CHANGE_PASSWORD_RESET"}},y={createUser:{success:null,error:null},isAuth:null,authError:null,userData:{id:null,email:null,firstName:"",lastName:""},editUser:{isEditing:!1,success:null,error:null},changePassword:{isChangingPassword:!1,changePasswordError:null,changePasswordSuccess:null}},x=Object(i.c)({logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.payload,r=t.type;switch(r){case p.request:return Object(g.a)({},e,{canLog:null});case p.receive:return Object(g.a)({},e,{canLog:a});case E.request:return Object(g.a)({},e,{lastLogs:{logs:[],error:null,isFetching:!0}});case E.receive:return Object(g.a)({},e,{lastLogs:Object(g.a)({},a)});case E.reset:return Object(g.a)({},e,{lastLogs:Object(g.a)({},h.lastLogs)});case _.request:return Object(g.a)({},e,{singleLog:{isFetching:!0,error:null,logData:{}}});case _.receive:return Object(g.a)({},e,{singleLog:Object(g.a)({},a)});case _.reset:return Object(g.a)({},e,{singleLog:Object(g.a)({},h.singleLog)});case f.request:return Object(g.a)({},e,{allLogs:Object(g.a)({},e.allLogs,{isFetching:!0,error:null})});case f.receive:return Object(g.a)({},e,{allLogs:Object(g.a)({},e.allLogs,{},a)});case f.reset:return Object(g.a)({},e,{allLogs:Object(g.a)({},h.allLogs)});case v.request:return Object(g.a)({},e,{postLog:{isPosting:!0,success:null,error:null}});case v.receive:return a.success?Object(g.a)({},e,{canLog:!1,postLog:Object(g.a)({},a)}):Object(g.a)({},e,{postLog:Object(g.a)({},a)});case v.reset:return Object(g.a)({},e,{postLog:Object(g.a)({},h.postLog)});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case b.createUser.request:return Object(g.a)({},e,{createUser:{success:null,error:null}});case b.createUser.receive:return Object(g.a)({},e,{createUser:Object(g.a)({},r)});case b.createUser.reset:return Object(g.a)({},e,{createUser:Object(g.a)({},y.createUser)});case b.loginUser.request:return Object(g.a)({},e,{isAuth:null,authError:null});case b.loginUser.receive:return Object(g.a)({},e,{},r);case b.userAuth:return r.error?Object(g.a)({},e,{authError:r.error,isAuth:!1}):Object(g.a)({},e,{authError:null,isAuth:!0,userData:{id:r.id||null,email:r.email||null,firstName:r.firstName||"",lastName:r.lastName||""}});case b.clearUserData:return Object(g.a)({},e,{authError:y.authError,isAuth:y.isAuth,userData:Object(g.a)({},y.userData)});case b.editUser.request:return Object(g.a)({},e,{editUser:{isEditing:!0,success:null,error:null}});case b.editUser.receive:return Object(g.a)({},e,{editUser:Object(g.a)({},r)});case b.editUser.reset:return Object(g.a)({},e,{editUser:Object(g.a)({},y.editUser)});case b.changePassword.request:return Object(g.a)({},e,{changePassword:{isChanging:!0,error:null,success:null}});case b.changePassword.receive:return Object(g.a)({},e,{changePassword:Object(g.a)({},r)});case b.changePassword.reset:return Object(g.a)({},e,{changePassword:Object(g.a)({},y.changePassword)});default:return e}}}),w=a(48),N="/",O="/login",k="/logout",L="/dashboard",j="/addlog",S="/register",A="/settings",C="/logs",I="/logs/:id",D="/delete",U="/stats",P=a(92),B=a.n(P),T=(a(145),a(4)),R=a.n(T),F=a(55),W=a.n(F),q=a(74),G=a.n(q),M=a(10),H=n.a.createContext(),V=n.a.createContext();function Y(){return Object(r.useContext)(H)}function J(e){var t=e.children,a=Object(r.useState)(function(){var e=localStorage.getItem("nightmode");return void 0!==e&&"true"===e}()),s=Object(M.a)(a,2),c=s[0],o=s[1];Object(r.useEffect)((function(){!0===c?(document.body.style.background="rgb(51, 51, 51)",document.body.style.color="rgb(242,242,242"):(document.body.style.background="#FFFFFF",document.body.style.color="#000000")}),[c]);return n.a.createElement(H.Provider,{value:c},n.a.createElement(V.Provider,{value:function(){o((function(e){return localStorage.setItem("nightmode",!e),!e}))}},t))}var Q=function(e){var t=e.color,a=void 0===t?"primary":t,r=e.handleClick,s=void 0===r?function(){}:r,c=e.disabled,o=e.children,l=Y();return n.a.createElement("button",{className:R()(G.a.button,l&&G.a.btnDark,function(e){switch(e){case"primary":return G.a.btnPrimary;case"white":return G.a.btnWhite;default:return null}}(a)),onClick:s,disabled:c,type:"button"},o)},z=Q,K=a(38),X=a.n(K),Z=function(){var e=Y();return(n.a.createElement("div",{className:X.a.loadingScreen},n.a.createElement("div",null,"Loading"),n.a.createElement("br",null),n.a.createElement("div",{className:R()(X.a.barContainer,e&&X.a.dark)},n.a.createElement("div",{className:X.a.bar}),n.a.createElement("div",{className:[X.a.bar,X.a.delay1].join(" ")}),n.a.createElement("div",{className:[X.a.bar,X.a.delay2].join(" ")}))))},$=Object(l.b)((function(e){var t=e.user,a=t.isAuth,r=t.userData;return{isAuth:a,firstName:r?r.firstName:""}}))((function(e){var t=e.isAuth,a=e.firstName,s=Y();return void 0===t?n.a.createElement(Z,null):n.a.createElement("div",{className:W.a.wrapper},n.a.createElement(B.a,{animateIn:"fadeInDown",animateOnce:!0},n.a.createElement("div",{className:R()(W.a.bigLogo,s&&W.a.dark)},"MoodApp")),n.a.createElement(B.a,{animateIn:"fadeInDown",delay:1e3,offset:75,animateOnce:!0},t?n.a.createElement("div",{className:W.a.text},"Hello ",n.a.createElement("span",null,a)):n.a.createElement("div",{className:W.a.text},"Your daily mood tracker")),n.a.createElement(B.a,{animateIn:"fadeInDown",delay:2e3,offset:75,animateOnce:!0},n.a.createElement("div",{className:W.a.buttonWrapper},t?n.a.createElement(r.Fragment,null,n.a.createElement(o.b,{to:"/dashboard"},n.a.createElement(z,{color:"primary"},"Dashboard")),n.a.createElement(o.b,{to:"/logout"},n.a.createElement(z,{color:"white"},"Log out"))):n.a.createElement(r.Fragment,null,n.a.createElement(o.b,{to:"/login"},n.a.createElement(z,{color:"primary"},"Log in")),n.a.createElement(o.b,{to:"/register"},n.a.createElement(z,{color:"white"},"Register"))))))})),ee=a(22),te=a.n(ee),ae=function(e){var t=e.children;return(n.a.createElement("h1",{className:te.a.heading},t))},re=function(e){var t=e.children;return(n.a.createElement("div",{className:te.a.formWrapper},t))},ne=function(e){var t=e.children;return(n.a.createElement("span",{className:te.a.label},t))},se=function(e){var t=e.type,a=e.name,r=e.value,s=e.controlEvents,c=e.placeholder,o=s.handleChange,l=s.handleBlur;return"text"===t||"email"===t||"password"===t?n.a.createElement("input",{type:t,name:a,value:r,className:te.a.textInput,onChange:o,onBlur:l}):"textarea"===t?n.a.createElement("textarea",{name:a,onChange:o,onBlur:l,value:r,placeholder:c,className:te.a.textArea}):void 0};se.defaultProps={type:"text",name:"",value:"",controlEvents:{handleBlur:function(){},handleChange:function(){}},placeholder:""};var ce=se,oe=function(e){var t=e.children;return(n.a.createElement("div",{className:te.a.formFooter},t))},le=function(e){var t=e.children;return(n.a.createElement("div",{className:te.a.errorMessage},t))},ie=a(117),ue=a.n(ie),me=function(e){var t=e.children;return(n.a.createElement("div",{className:ue.a.container},t))},de=a(1),ge=a.n(de),pe=a(32),Ee="",_e="",fe="",ve="",he="",be="",ye=a(8),xe="Required field",we="Enter a proper e-mail address",Ne="Passwords do not match",Oe="Minimum count of symbols is ",ke=a(18),Le=a.n(ke),je=a(102),Se=function(e,t,a){var r;return ge.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return r={userId:a,date:e,timing:t},n.abrupt("return",(function(e){var t,a;return ge.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ge.a.awrap(Le.a.post("/api/canLog",r));case 2:if(t=n.sent,a=t.data,e({type:p.request}),!a||!a.data){n.next=8;break}return e({type:p.receive,payload:a.data.canLog}),n.abrupt("return");case 8:e({type:p.receive,payload:!1});case 9:case"end":return n.stop()}}))}));case 2:case"end":return n.stop()}}))},Ae=function(){return function(e){return e({type:E.reset})}},Ce=function(e){var t,a,r,n;return ge.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,a=e.start,r=e.limit,n=e.currentLogs,s.abrupt("return",(function(e){var s,c,o,l,i;return ge.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return s="/api/getLogs?id=".concat(t).concat(a?"&skip=".concat(a):"","&limit=").concat(r),e({type:f.request}),u.prev=2,u.next=5,ge.a.awrap(Le.a.get(s));case 5:if(c=u.sent,o=c.data,l=o.data,!(i=o.error)){u.next=10;break}return e({type:f.receive,payload:{isFetching:!1,error:i}}),u.abrupt("return");case 10:e({type:f.receive,payload:{isFetching:!1,error:!1,logs:n?[].concat(Object(je.a)(n),Object(je.a)(l)):l,noLogsLeft:!l.length}}),u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),e({type:f.receive,payload:{isFetching:!1,error:u.t0}});case 16:case"end":return u.stop()}}),null,null,[[2,13]])}));case 2:case"end":return s.stop()}}))},Ie=function(){return function(e){e({type:f.reset})}},De=function(e){var t,a,r,n,s,c;return ge.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.userId,a=e.date,r=e.timing,n=e.rating,s=e.text,c={userId:t,date:a,timing:r,rating:n,text:s},o.abrupt("return",(function(e){var t,a,r,n;return ge.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,e({type:v.request}),s.next=4,ge.a.awrap(Le.a.post("/api/postLog",c));case 4:if(t=s.sent,a=t.data,r=a.error,n=a.success,!r&&n){s.next=10;break}return e({type:v.receive,payload:{isPosting:!1,success:!1,error:r||"Unknown error occured"}}),s.abrupt("return");case 10:e({type:v.receive,payload:{isPosting:!1,success:!0,error:null}}),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),e({type:v.receive,payload:{isPosting:!1,success:!1,error:s.t0}});case 16:case"end":return s.stop()}}),null,null,[[0,13]])}));case 3:case"end":return o.stop()}}))},Ue=a(87),Pe=new Ue.a,Be=function(e){return ge.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(function(t){var a,r,n,s;return ge.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t({type:b.createUser.request}),c.prev=1,c.next=4,ge.a.awrap(Le.a.post("/api/users",e));case 4:if(a=c.sent,r=a.data,n=r.success,!(s=r.error)&&n){c.next=10;break}return t({type:b.createUser.receive,payload:{success:!1,error:s||"Could not create user"}}),c.abrupt("return");case 10:n&&t({type:b.createUser.receive,payload:{success:!0,error:null}}),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(1),t({type:b.createUser.receive,payload:{success:!1,error:c.t0||"Could not create user"}});case 16:case"end":return c.stop()}}),null,null,[[1,13]])}));case 1:case"end":return t.stop()}}))},Te=function(e){return ge.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(function(t){var a,r,n,s;return ge.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t({type:b.loginUser.request}),c.prev=1,c.next=4,ge.a.awrap(Le.a.post("/api/login",e));case 4:if(a=c.sent,r=a.data,n=r.isAuth,!(s=r.error)){c.next=10;break}return t({type:b.loginUser.receive,payload:{isAuth:!1,authError:s}}),c.abrupt("return");case 10:n&&t({type:b.loginUser.receive,payload:{isAuth:n,error:null}}),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(1),t({type:b.loginUser.receive,payload:{isAuth:!1,error:c.t0}});case 16:case"end":return c.stop()}}),null,null,[[1,13]])}));case 1:case"end":return t.stop()}}))};var Re=function(e){var t,a,r;return ge.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.userId,a=e.details,"/api/editAccount",r=Object(g.a)({id:t},a),n.abrupt("return",(function(e){var t,a,n;return ge.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e({type:b.editUser.request}),s.prev=1,s.next=4,ge.a.awrap(Le.a.post("/api/editAccount",r));case 4:if(t=s.sent,a=t.data,!(n=a.error)){s.next=10;break}return e({type:b.editUser.receive,payload:{isEditing:!1,success:!1,error:n.toString()}}),s.abrupt("return");case 10:e({type:b.editUser.receive,payload:{isEditing:!1,success:!0,error:null}}),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),e({type:b.editUser.receive,payload:{isEditing:!1,success:!1,error:s.t0.toString()}});case 16:case"end":return s.stop()}}),null,null,[[1,13]])}));case 4:case"end":return n.stop()}}))},Fe=function(e){var t,a,r;return ge.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.userId,a=e.currentPassword,r=e.newPassword,n.abrupt("return",(function(e){var n,s,c,o;return ge.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t&&a&&r){l.next=2;break}return l.abrupt("return");case 2:return n="/api/changePassword",s={id:t,oldPassword:a,newPassword:r},l.next=6,ge.a.awrap(e({type:b.changePassword.request}));case 6:return l.prev=6,l.next=9,ge.a.awrap(Le.a.post(n,s));case 9:if(c=l.sent,!(o=c.error)){l.next=14;break}return e({type:b.changePassword.receive,payload:{isChanging:!1,error:o,success:!1}}),l.abrupt("return");case 14:e({type:b.changePassword.receive,payload:{isChanging:!1,error:null,success:!0}}),l.next=20;break;case 17:l.prev=17,l.t0=l.catch(6),e({type:b.changePassword.receive,payload:{isChanging:!1,error:l.t0,success:!1}});case 20:case"end":return l.stop()}}),null,null,[[6,17]])}));case 2:case"end":return n.stop()}}))},We=function(e){var t=function(t){13===t.keyCode&&e()};Object(r.useEffect)((function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}))},qe=function(){var e=function(){var e=Object(r.useState)(!1),t=Object(M.a)(e,2),a=t[0],n=t[1],s=Object(l.c)(),c=Object(w.f)(),o=Object(l.d)((function(e){return e.user.isAuth})),i=Object(l.d)((function(e){var t=e.user;return"Authentication error"!==t.authError?t.authError:null}));Object(r.useEffect)((function(){o&&c.push(L)}),[o,c]);var u={email:Ee,password:_e},m=ye.a({email:ye.c().required(xe).email(we),password:ye.c().required(xe)}),d=Object(r.useCallback)((function(e){return ge.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),t.next=3,ge.a.awrap(s(Te(e)));case 3:n(!1);case 4:case"end":return t.stop()}}))}),[p]);We((function(){h()}));var g=Object(pe.a)({initialValues:u,validationSchema:m,onSubmit:d,validateOnMount:!0}),p=g.values,E=g.errors,_=g.isValid,f=g.handleChange,v=g.handleBlur,h=g.handleSubmit;return{values:p,controlEvents:{handleChange:f,handleBlur:v},errors:E,isValid:_,touched:g.touched,isLoggingIn:a,handleSubmit:h,loginError:i}}(),t=e.values,a=e.errors,s=e.isValid,c=e.controlEvents,o=e.touched,i=e.isLoggingIn,u=e.handleSubmit,m=e.loginError;return(n.a.createElement(re,null,n.a.createElement(ae,null,"Log In"),n.a.createElement("form",null,n.a.createElement(ne,null,"Enter your email: "),n.a.createElement(ce,{type:"email",name:"email",value:t.email,controlEvents:c}),a.email&&o.email&&n.a.createElement(le,null,a.email),n.a.createElement(ne,null,"Enter your password:"),n.a.createElement(ce,{type:"password",name:"password",value:t.password,controlEvents:c}),a.password&&o.password&&n.a.createElement(le,null,a.password),n.a.createElement(oe,null,n.a.createElement(Q,{color:"primary",disabled:!s||i,handleClick:u},"Log In"))),m&&n.a.createElement(me,null,"Error: ",m)))},Ge=a(75),Me=a.n(Ge),He=a(14),Ve=a.n(He),Ye=function(){var e=Y();return(n.a.createElement("div",{className:Me.a.container},n.a.createElement("div",{className:R()(Me.a.button,e&&Me.a.dark),onClick:function(){window.history.back()}},n.a.createElement(Ve.a,{name:"arrow-left"}),n.a.createElement("div",{className:Me.a.text},"Go back"))))},Je=Ye,Qe=function(){var e=Object(r.useState)(!1),t=Object(M.a)(e,2),a=t[0],n=t[1],s=Object(l.c)(),c=Object(l.d)((function(e){var t=e.user;return t&&t.createUser?{createUserError:t.createUser.error,createUserSuccess:t.createUser.success}:{}})),o=c.createUserError,i=c.createUserSuccess,u=Object(w.f)(),m=Object(r.useCallback)((function(e){var t;return ge.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password},n(!0),a.next=4,ge.a.awrap(s(Be(t)));case 4:n(!1);case 5:case"end":return a.stop()}}))}),[s]),d={firstName:fe,lastName:ve,email:Ee,password:_e,confirmPassword:he},g=ye.a({firstName:ye.c().required(xe),lastName:ye.c().required(xe),email:ye.c().required(xe).email(we),password:ye.c().required(xe).min(6,"".concat(Oe," 6")),confirmPassword:ye.c().required(xe).oneOf([ye.b("password"),null],Ne)}),p=Object(pe.a)({initialValues:d,validationSchema:g,onSubmit:m}),E=p.values,_=p.errors,f=p.isValid,v=p.handleChange,h=p.handleBlur,y=p.handleSubmit,x=p.touched;return Object(r.useEffect)((function(){if(i){var e=E.email,t=E.password;ge.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ge.a.awrap(s(Te({email:e,password:t})));case 2:u.push(N);case 3:case"end":return a.stop()}}))}}),[E,i]),Object(r.useEffect)((function(){return function(){s((function(e){return e({type:b.createUser.reset})}))}}),[s]),{values:E,controlEvents:{handleChange:v,handleBlur:h},errors:_,isValid:f,touched:x,isSigningUp:a,handleSubmit:y,createUserError:o}},ze=function(){var e=Qe(),t=e.values,a=e.controlEvents,s=e.errors,c=e.isValid,o=e.touched,l=e.isSigningUp,i=e.handleSubmit,u=e.createUserError;return(n.a.createElement(r.Fragment,null,n.a.createElement(re,null,n.a.createElement(ae,null,"Sign Up"),n.a.createElement("form",null,n.a.createElement(ne,null,"Enter your first name"),n.a.createElement(ce,{type:"text",name:"firstName",value:t.firstName,controlEvents:a}),s.firstName&&o.firstName&&n.a.createElement(le,null,s.firstName),n.a.createElement(ne,null,"Enter your last name"),n.a.createElement(ce,{type:"text",name:"lastName",value:t.lastName,controlEvents:a}),s.lastName&&o.lastName&&n.a.createElement(le,null,s.lastName),n.a.createElement(ne,null,"Enter your email:"),n.a.createElement(ce,{type:"email",name:"email",value:t.email,controlEvents:a}),s.email&&o.email&&n.a.createElement(le,null,s.email),n.a.createElement(ne,null,"Enter your password:"),n.a.createElement(ce,{type:"password",name:"password",value:t.password,controlEvents:a}),s.password&&o.password&&n.a.createElement(le,null,s.password),n.a.createElement(ne,null,"Confirm your password:"),n.a.createElement(ce,{type:"password",name:"confirmPassword",value:t.confirmPassword,controlEvents:a}),s.confirmPassword&&o.confirmPassword&&n.a.createElement(le,null,s.confirmPassword),n.a.createElement(oe,null,n.a.createElement(z,{color:"primary",disabled:!c||l,handleClick:i},"Sign up"))),u&&n.a.createElement(me,null,"Error: ",u)),n.a.createElement(Je,null)))},Ke=a(49),Xe=a.n(Ke),Ze=a(50),$e=a.n(Ze),et=function(){return n.a.createElement("div",{className:$e.a.loadingScreen},n.a.createElement("div",{className:$e.a.barContainer},n.a.createElement("div",{className:$e.a.bar}),n.a.createElement("div",{className:[$e.a.bar,$e.a.delay1].join(" ")}),n.a.createElement("div",{className:[$e.a.bar,$e.a.delay2].join(" ")})))},tt="Morning",at="Afternoon",rt="Evening",nt="Night",st=function(){var e=new Date,t=e.getMonth()<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1),a=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return[e.getFullYear(),t,a].join("-")},ct=function(){var e=(new Date).getHours();return e>=7&&e<=12?tt:e>12&&e<=19?at:e>19&&e<=23?rt:e<7?nt:null};var ot=Object(l.b)((function(e){var t=e.logs,a=e.user,r=a&&a.userData&&a.userData.id?a.userData.id:null;return{canLog:t.canLog,userId:r}}))((function(e){var t=e.userId,a=e.canLog,s=e.darkTheme,c=Object(l.c)();return Object(r.useEffect)((function(){if(t){var e=st(),a=ct();c(Se(e,a,t))}}),[t]),null===a?n.a.createElement(et,null):a&&ct()!==nt?n.a.createElement(o.b,{to:j},n.a.createElement("div",{className:R()(Xe.a.logbutton,Xe.a.available,s&&Xe.a.dark)},n.a.createElement("div",{className:Xe.a.attentionBorder}),n.a.createElement(Ve.a,{name:"fas fa-plus",className:Xe.a.floating})," ADD LOG")):n.a.createElement("div",{className:R()(Xe.a.logbutton,Xe.a.unavailable)},"Next log will be available at: ",function(){var e=0;switch(ct()){case tt:e=13;break;case at:e=20;break;case rt:e=7;break;default:e=7}return"".concat(e,":00")}())})),lt=a(11),it=a.n(lt),ut=a(25),mt=a.n(ut),dt=function(){var e=Y(),t=Object(l.d)((function(e){return e.logs.lastLogs})),a=t.logs,r=t.isFetching;return n.a.createElement("div",{className:it.a.gridItem},n.a.createElement("h3",{className:it.a.gridItemHeader},"Last logs"),r?n.a.createElement(et,null):a&&a.length?n.a.createElement("div",{className:R()(mt.a.logSection,it.a.gridItemContent)},n.a.createElement("div",{className:mt.a.logContainer},a.slice(0,3).map((function(t,a){return n.a.createElement("div",{key:a,className:mt.a.logItem},n.a.createElement("div",{className:mt.a.logContent},n.a.createElement("div",{className:R()(mt.a.ratingBox,e&&mt.a.dark)},t.rating),n.a.createElement("div",{className:mt.a.rightSection},n.a.createElement("div",{className:mt.a.date},t.date),n.a.createElement("div",{className:mt.a.text},t.text))),n.a.createElement(o.b,{to:"/logs/".concat(t.id),className:R()(mt.a.link,e&&mt.a.dark)},"Read more"))}))),n.a.createElement(o.b,{to:"/logs"},n.a.createElement(z,null,"All Logs"))):n.a.createElement("div",{className:mt.a.greyText},"There are no logs at the moment ",n.a.createElement("br",null),n.a.createElement("br",null),"Write Your first one, by pressing the green button at the top"))},gt=a(76),pt=a.n(gt),Et=[{above:7.5,below:10,text:"Great"},{above:5,below:7.5,text:"Good"},{above:3,below:5,text:"Average"},{above:0,below:3,text:"Bad"}],_t=function(){var e=Object(l.d)((function(e){return e.logs.lastLogs})),t=e.logs,a=e.isFetching,n=Object(r.useMemo)((function(){return t&&Array.isArray(t)&&t.length?function(e){var t=0,a=0;e.forEach((function(e){t+=parseInt(e.rating),a++}));var r=Math.round(t/a*10/10);return Number.isInteger(r)?"".concat(r,".0"):String(r)}(t):"N/A"}),[t]),s=Object(r.useMemo)((function(){return t&&Array.isArray(t)&&t.length&&"N/A"!==n?function(e){var t=parseInt(e),a=Et.find((function(e){return e.above<t&&e.below>=t}));return a?a.text:""}(n):""}),[t,n]);return{rating:n,ratingText:s,lastLogs:t,isFetchingLogs:a}},ft=function(){var e=Y(),t=_t(),a=t.rating,s=t.ratingText,c=t.isFetchingLogs;return n.a.createElement("div",{className:R()(it.a.gridItem,pt.a.statusContainer)},c?n.a.createElement(et,null):n.a.createElement(r.Fragment,null,n.a.createElement("h3",{className:it.a.gridItemHeader},"Latest mood status"),n.a.createElement("div",{className:it.a.gridItemContent},n.a.createElement("div",{className:R()(pt.a.statusBox,e&&pt.a.dark)},a),n.a.createElement("div",{className:pt.a.statusText},s),n.a.createElement(o.b,{to:"/stats"},n.a.createElement(z,null,"Stats")))))},vt=a(93),ht=a.n(vt),bt=function(){var e=Y();return(n.a.createElement("div",{className:R()(it.a.gridItem,it.a.shrink)},n.a.createElement("h3",{className:it.a.gridItemHeader},"Settings"),n.a.createElement("div",{className:it.a.flexCenter},n.a.createElement("div",{className:ht.a.settingsIconWrapper},n.a.createElement(o.b,{to:A},n.a.createElement(Ve.a,{name:"cog",className:R()(ht.a.settingsIcon,e&&ht.a.dark)}))))))},yt=a(94),xt=a.n(yt),wt=function(){var e=Y();return(n.a.createElement("div",{className:R()(it.a.gridItem,it.a.shrink)},n.a.createElement("h3",{className:it.a.gridItemHeader},"Log out"),n.a.createElement("div",{className:it.a.flexCenter},n.a.createElement(o.b,{to:k},n.a.createElement("div",{className:xt.a.logoutIconWrapper},n.a.createElement(Ve.a,{name:"sign-out",className:R()(xt.a.logoutIcon,e&&xt.a.dark)}))))))},Nt=function(){var e=Y(),t=Object(l.d)((function(e){return e.user.isAuth})),a=Object(l.d)((function(e){var t=e.user;return t&&t.userData&&t.userData.id?t.userData.id:null})),s=Object(l.c)();return Object(r.useEffect)((function(){a&&s(function(e){var t,a,r,n;return ge.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.userId,a=e.limit,r=void 0===a?9:a,n="/api/getLogs?id=".concat(t,"&limit=").concat(r),s.abrupt("return",(function(e){var t,a,r,s;return ge.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e({type:E.request}),c.prev=1,c.next=4,ge.a.awrap(Le.a.get(n));case 4:if(t=c.sent,a=t.data,r=a.success,!(s=a.error)){c.next=10;break}return e({type:E.receive,payload:{logs:[],error:s,isFetching:!1}}),c.abrupt("return");case 10:if(!r||!a.data){c.next=13;break}return e({type:E.receive,payload:{logs:a.data,error:null,isFetching:!1}}),c.abrupt("return");case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(1),e({type:E.receive,payload:{logs:[],error:c.t0,isFetching:!1}});case 18:case"end":return c.stop()}}),null,null,[[1,15]])}));case 3:case"end":return s.stop()}}))}({userId:a,limit:9}))}),[a,s]),null===t?n.a.createElement(Z,null):t?n.a.createElement("div",null,n.a.createElement(ot,{darkTheme:e}),n.a.createElement("div",{className:it.a.grid},n.a.createElement("h1",{className:it.a.gridTop},"Your dashboard"),n.a.createElement(dt,null),n.a.createElement(ft,null),n.a.createElement(bt,null),n.a.createElement(wt,null))):void 0},Ot=a(71),kt=a.n(Ot),Lt=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.user.userData.id})),a=Object(l.d)((function(e){var t=e.logs;return{postLogSuccess:t.postLogSuccess,postLogError:t.postLogError,canLog:t.canLog}})),n=a.postLogSuccess,s=a.postLogError,c=a.canLog,o=Object(r.useState)(""),i=Object(M.a)(o,2),u=i[0],m=i[1],d=Object(r.useState)(5),g=Object(M.a)(d,2),p=g[0],E=g[1],_=Object(r.useState)(!1),f=Object(M.a)(_,2),h=f[0],b=f[1],y=Object(w.f)();Object(r.useEffect)((function(){t&&e(Se(st(),ct(),t))}),[t,e]);var x=Object(r.useCallback)((function(e){E(Number(e.target.value))}),[]),N=Object(r.useCallback)((function(e){m(e.target.value)}),[]),O=Object(r.useCallback)((function(){return ge.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!p||!t){a.next=5;break}return b(!0),a.next=4,ge.a.awrap(e(De({userId:t,date:st(),timing:ct(),rating:p,text:u})));case 4:b(!1);case 5:case 6:case"end":return a.stop()}}))}),[t,p,u,e]);We((function(){O()})),Object(r.useEffect)((function(){n&&(e((function(e){e({type:v.reset})})),y.push(L))}),[n,e,y]),Object(r.useEffect)((function(){!1===c&&y.push(L)}),[c,e,y]);return{returnMoodText:function(e){return e>=9?"Awesome!":e>=7?"Good":e>=5?"Average":e>=3?"Not well":e<3?"Bad":""},postLogError:s,canLog:c,message:u,moodRating:p,isPostingLog:h,handleRangeInput:x,handleMessageInput:N,handleAddLog:O}},jt=function(){var e=Lt(),t=e.returnMoodText,a=e.postLogError,s=e.canLog,c=e.message,o=e.moodRating,l=e.isPostingLog,i=e.handleRangeInput,u=e.handleMessageInput,m=e.handleAddLog;return void 0===s?n.a.createElement(Z,null):s?n.a.createElement(r.Fragment,null,n.a.createElement(re,null,n.a.createElement(ae,null,"Add log"),n.a.createElement("span",null,"How do you feel at the moment? Rate your mood:"),n.a.createElement("div",{className:kt.a.topSection},n.a.createElement("div",{className:kt.a.moodBox},o),n.a.createElement("div",{className:kt.a.inputLine},n.a.createElement(Ve.a,{className:kt.a.thumb,name:"thumbs-down",style:{color:"#800000"}}),n.a.createElement("input",{onChange:i,type:"range",min:"1",max:"10",value:o}),n.a.createElement(Ve.a,{className:kt.a.thumb,name:"thumbs-up",style:{color:"#16774f"}})),n.a.createElement("span",null,t(o))),n.a.createElement(ne,null,"Describe your thoughts: (optional)"),n.a.createElement(ce,{type:"textarea",name:"message",value:c,controlEvents:{handleChange:u}}),n.a.createElement(oe,null,n.a.createElement(z,{handleClick:m,disabled:l},"Submit")),a&&n.a.createElement(me,null,a)),n.a.createElement(Je,null)):null},St=a(98),At=a.n(St),Ct=a(51),It=a.n(Ct),Dt=function(e){var t=e.date,a=e.timing,r=e.text,s=e.rating;return(n.a.createElement("div",{className:It.a.item},n.a.createElement("div",{className:It.a.top_line},n.a.createElement("div",{className:It.a.rating_box},s),n.a.createElement("div",null,n.a.createElement(Ve.a,{name:"hourglass",className:It.a.icon}),a),n.a.createElement("div",{className:It.a.date},n.a.createElement(Ve.a,{name:"calendar",className:It.a.icon}),t)),n.a.createElement("div",{className:It.a.text},r)))},Ut=function(){var e=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return{user:e.user,logs:e.logs}})),a=t.user,n=t.logs,s=Object(r.useState)(3),c=Object(M.a)(s,2),o=c[0],i=c[1],u=a&&a.userData&&a.userData.id,m=n.allLogs,d=m.logs,g=m.isFetching,p=m.error,E=m.noLogsLeft;Object(r.useEffect)((function(){u&&e(Ce({userId:u,start:0,limit:3}))}),[u,e]),Object(r.useEffect)((function(){return function(){e(Ie())}}),[]);var _=Object(r.useCallback)((function(){u&&(e(Ce({userId:u,start:o,limit:3,currentLogs:d})),i((function(e){return e+3})))}),[o,u,d,e]);return{allLogs:d,isFetchingAllLogs:g,fetchAllLogsError:p,noLogsLeft:E,loadMoreLogs:_}}(),t=e.allLogs,a=e.isFetchingAllLogs,s=e.fetchAllLogsError,c=e.noLogsLeft,o=e.loadMoreLogs;return!t||a?n.a.createElement(Z,null):t&&Array.isArray&&t.length?n.a.createElement("div",{className:At.a.pageWrapper},n.a.createElement(Je,null),n.a.createElement("h1",null,"All logs"),n.a.createElement("div",null,t.map((function(e,t){return n.a.createElement(Dt,{key:t,rating:e.rating,date:e.date,timing:e.timing,text:e.text})}))),n.a.createElement("div",{className:At.a.bottomSection},a?n.a.createElement(et,null):!c&&n.a.createElement(z,{handleClick:o},"Load more"),s&&n.a.createElement(me,null,s))):t&&Array.isArray&&!t.length&&!a?n.a.createElement("div",null,"No logs found"):void 0},Pt=a(121),Bt=a.n(Pt),Tt=function(e){var t=Object(l.c)(),a=Object(l.d)((function(e){return e.logs.singleLog})),s=a.logData,c=a.isFetching,o=a.error;return Object(r.useEffect)((function(){var a;return e.match&&e.match.params&&e.match.params.id&&t((a=e.match.params.id,ge.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){var t,r,n,s,c;return ge.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t="/api/getLog?id=".concat(a),e({type:_.request}),o.prev=2,o.next=5,ge.a.awrap(Le.a.get(t));case 5:if(r=o.sent,n=r.data,s=n.error,c=n.data,!s){o.next=10;break}return e({type:_.receive,payload:{isFetching:!1,error:s,logData:{}}}),o.abrupt("return");case 10:e({type:_.receive,payload:{isFetching:!1,error:!1,logData:c}}),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),e({type:_.receive,payload:{isFetching:!1,error:o.t0,logData:{}}});case 16:case"end":return o.stop()}}),null,null,[[2,13]])}));case 1:case"end":return e.stop()}})))),function(){t((function(e){e({type:_.reset})}))}}),[]),!s||c?n.a.createElement(Z,null):n.a.createElement("div",{className:Bt.a.pageWrapper},n.a.createElement(Je,null),s&&Boolean(Object.keys(s).length)&&n.a.createElement(Dt,{rating:s.rating,timing:s.timing,date:s.date,text:s.text}),o&&n.a.createElement(me,null,o))},Rt=function(){var e=Object(l.c)();return Object(r.useEffect)((function(){e(function(){var e=Le.a.get("/api/logout");return function(t){e.then((function(e){200===e.status&&(Pe.remove("auth"),t({type:b.clearUserData}),Ie(),Ae())}))}}())}),[]),n.a.createElement(Z,null)},Ft=a(122),Wt=a.n(Ft),qt=function(e){var t=e.children;return(n.a.createElement("div",{className:Wt.a.container},t))},Gt=a(66),Mt=a.n(Gt),Ht=function(e){var t=e.firstName,a=e.lastName,n=Object(r.useState)(!1),s=Object(M.a)(n,2),c=s[0],o=s[1],i=Object(l.c)(),u=Object(l.d)((function(e){var t=e.user;return{userData:t.userData||{},editUserData:t.editUser||{}}})),m=u.userData,d=u.editUserData,g=m.id,p=d.success,E=d.error,_=d.isEditing;Object(r.useEffect)((function(){return function(){i((function(e){e({type:b.editUser.reset})}))}}),[]);var f=ye.a({firstName:ye.c().required(xe),lastName:ye.c().required(xe)}),v={firstName:t,lastName:a},h=Object(pe.a)({initialValues:v,validationSchema:f,enableReinitialize:!0,onSubmit:function(e){return ge.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,ge.a.awrap(i(Re({userId:g,details:e})));case 3:o(!1);case 4:case"end":return t.stop()}}))}}),y=h.values,x=h.errors,w=h.touched,N=h.isValid,O=h.handleBlur,k=h.handleChange;return{isSubmitting:c,isEditingUser:_,editUserError:E,editUserSuccess:p,values:y,errors:x,touched:w,isValid:N,handleSubmit:h.handleSubmit,controlEvents:{handleChange:k,handleBlur:O}}},Vt=function(e){var t=e.email,a=e.firstName,r=e.lastName,s=Ht({firstName:a,lastName:r}),c=s.isSubmitting,o=s.isEditingUser,l=s.editUserError,i=s.editUserSuccess,u=s.values,m=s.errors,d=s.touched,g=s.isValid,p=s.handleSubmit,E=s.controlEvents;return n.a.createElement(re,null,n.a.createElement("div",null,n.a.createElement("strong",null,"User: ")," ",t),n.a.createElement("br",null),n.a.createElement("h3",{className:Mt.a.miniHeader},"Edit details:"),n.a.createElement(ne,null,"First name:"),n.a.createElement(ce,{name:"firstName",value:u.firstName,controlEvents:E}),m.firstName&&d.firstName&&n.a.createElement(le,null,m.firstName),n.a.createElement(ne,null,"Last name:"),n.a.createElement(ce,{name:"lastName",value:u.lastName,controlEvents:E}),m.lastName&&d.lastName&&n.a.createElement(le,null,m.lastName),n.a.createElement(oe,null,n.a.createElement(z,{disabled:c||!g||o,handleClick:p},"Save changes")),!o&&l&&n.a.createElement(me,null,l),!o&&i&&n.a.createElement(qt,null,"Account information was saved"))},Yt=function(){var e=Object(r.useState)(!1),t=Object(M.a)(e,2),a=t[0],n=t[1],s=Object(l.c)(),c=Object(l.d)((function(e){var t=e.user;return{userData:t.userData||{},changePasswordData:t.changePassword||{}}})),o=c.userData,i=c.changePasswordData,u=o.id,m=i.success,d=i.error;Object(r.useEffect)((function(){return function(){s(ge.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){return ge.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:b.changePassword.reset});case 1:case"end":return t.stop()}}))}));case 1:case"end":return e.stop()}})))}}),[]);var g=ye.a({currentPassword:ye.c().required(xe),password:ye.c().required(xe).min(6,"".concat(Oe," 6")),confirmPassword:ye.c().required(xe).oneOf([ye.b("password"),null],Ne)}),p={currentPassword:be,password:_e,confirmPassword:he},E=Object(pe.a)({initialValues:p,validationSchema:g,onSubmit:function(e){var t,a;return ge.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.currentPassword,a=e.password,n(!0),r.next=4,ge.a.awrap(s(Fe({userId:u,currentPassword:t,newPassword:a})));case 4:n(!1);case 5:case"end":return r.stop()}}))}}),_=E.values,f=E.errors,v=E.isValid,h=E.touched;return{values:_,controlEvents:{handleChange:E.handleChange,handleBlur:E.handleBlur},errors:f,isValid:v,touched:h,isSubmitting:a,handleSubmit:E.handleSubmit,changePasswordSuccess:m,changePasswordError:d}},Jt=function(e){e.userId;var t=Yt(),a=t.values,r=t.controlEvents,s=t.errors,c=t.isValid,o=t.isSubmitting,l=t.handleSubmit,i=t.touched,u=t.changePasswordSuccess,m=t.changePasswordError;return n.a.createElement(re,null,n.a.createElement("h3",{className:Mt.a.miniHeader},"Change password"),n.a.createElement(ne,null,"Current password:"),n.a.createElement(ce,{type:"password",name:"currentPassword",controlEvents:r,value:a.currentPassword}),n.a.createElement(ne,null,"New password:"),n.a.createElement(ce,{type:"password",name:"password",controlEvents:r,value:a.password}),i.password&&s.password&&n.a.createElement(le,null,s.password),n.a.createElement(ne,null,"Confirm new password:"),n.a.createElement(ce,{type:"password",name:"confirmPassword",controlEvents:r,value:a.confirmPassword}),i.confirmPassword&&s.confirmPassword&&n.a.createElement(le,null,s.confirmPassword),n.a.createElement(oe,null,n.a.createElement(z,{disabled:!c||o,handleClick:l},"Change password")),m&&n.a.createElement(me,null,m),u&&n.a.createElement(qt,null,"Password was changed successfully"))},Qt=function(){var e=Object(l.d)((function(e){var t=e.user;return t&&t.userData?t.userData:{}})),t=e.email,a=e.firstName,r=e.lastName;return e&&Object.keys(e).length?n.a.createElement("div",null,n.a.createElement(Je,null),n.a.createElement(ae,null,"Account settings"),n.a.createElement(Vt,{email:t,firstName:a,lastName:r}),n.a.createElement("br",null),n.a.createElement(Jt,null),n.a.createElement("br",null),n.a.createElement(re,null,n.a.createElement("h3",{className:Mt.a.miniHeader},"Delete account"),n.a.createElement(oe,null,n.a.createElement(o.b,{to:D},n.a.createElement(z,null,"Delete account"))))):n.a.createElement(Z,null)},zt=a(52),Kt=a.n(zt);var Xt=function(e){var t=e.points,a=Y();return n.a.createElement("polyline",{points:t,className:R()(Kt.a.graph_stroke,a&&Kt.a.dark)})},Zt=function(e){var t=e.logs,a=Object(r.useState)(0),s=Object(M.a)(a,2),c=s[0],o=s[1],l=Object(r.useRef)(null),i=function(){var e=0;(e=l.current&&l.current.offsetWidth?l.current.offsetWidth:490)!==c&&o(e)};Object(r.useEffect)((function(){return window.addEventListener("resize",i),!c&&l.current&&l.current.offsetWidth&&o(l.current.offsetWidth),function(){window.removeEventListener("resize",i)}}),[]);var u=function(e){if(!e||!Array.isArray(e)||!e.length)return null;for(var t=[],a=0;a<e.length;a++){var r=e[a],n=r.date,s=r.rating;if(t.push({date:n,rating:s}),20===a)break}return t}(t);if(!u||!u.length)return null;var m=u[0].date,d=u[u.length-1].date;return n.a.createElement("div",{className:Kt.a.graph_container},n.a.createElement("p",null,n.a.createElement("strong",null,"Your mood graph")),n.a.createElement("div",{className:Kt.a.graph_canvas,ref:l},n.a.createElement("div",{className:Kt.a.y_axis_number},"10"),n.a.createElement("div",{className:Kt.a.y_axis_number,style:{transform:"translate(10px, 100px)"}},"5"),n.a.createElement("div",{className:Kt.a.y_axis_number,style:{transform:"translate(10px, 200px)"}},"0"),n.a.createElement("svg",{width:"100%",height:"100%"},n.a.createElement("polyline",{points:"1,20 490,20",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,40 490,40",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,60 490,60",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,80 490,80",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,100 490,100",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,120 490,120",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,140 490,140",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,160 490,160",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,180 490,180",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,200 490,200",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement(Xt,{points:function(e){for(var t="",a=0;a<e.length;a++){var r=220-20*Number(e[a].rating);t+=Math.floor(c/21*(e.length-a-1))+","+r+" "}return t}(u)}))),n.a.createElement("div",null,"From ",d," to ",m))},$t=a(15),ea=a.n($t),ta=a(123),aa=a.n(ta),ra=a(124),na=a.n(ra),sa=a(125),ca=a.n(sa),oa=function(e,t,a){return"N/A"===e?null:n.a.createElement("div",{className:R()(ea.a.daytime_bullet,a&&ea.a.dark),style:{bottom:"".concat(30*e-10,"px"),left:"".concat(t)}},n.a.createElement("div",{className:ea.a.daytime_bullet_text},e))},la=function(e){var t=e.logs,a=function(e){for(var t=0,a=0,r=0,n=0,s=0,c=0,o=0;o<e.length;o++)"Morning"===e[o].timing&&(t+=Number(e[o].rating),a++),"Afternoon"===e[o].timing&&(r+=Number(e[o].rating),n++),"Evening"===e[o].timing&&(s+=Number(e[o].rating),c++);return{morningAverage:0===a?"N/A":Math.floor(10*t/a)/10,afternoonAverage:0===n?"N/A":Math.floor(10*r/n)/10,eveningAverage:0===c?"N/A":Math.floor(10*s/c)/10}}(t),r=Y();if(!t||!t.length||!a)return null;var s=a.morningAverage,c=a.afternoonAverage,o=a.eveningAverage;return(n.a.createElement("div",{className:ea.a.daytime_container},n.a.createElement("p",null,n.a.createElement("strong",null,"Your mood throughout the day:")),n.a.createElement("div",{className:ea.a.daytime_canvas},n.a.createElement("svg",{width:"100%",height:"100%",overflow:"hidden"},n.a.createElement("polyline",{points:"1,60 300,60",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,120 300,120",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,180 300,180",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,240 300,240",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),n.a.createElement("polyline",{points:"1,300 300,300",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}})),oa(s,null,r),oa(c,"48%",r),oa(o,"82%",r),n.a.createElement("div",{className:ea.a.y_axis_number_daytime,style:{top:"-12px"}},"10"),n.a.createElement("div",{className:ea.a.y_axis_number_daytime,style:{top:"48px",left:"-15px"}},"8"),n.a.createElement("div",{className:ea.a.y_axis_number_daytime,style:{top:"108px",left:"-15px"}},"6"),n.a.createElement("div",{className:ea.a.y_axis_number_daytime,style:{top:"168px",left:"-15px"}},"4"),n.a.createElement("div",{className:ea.a.y_axis_number_daytime,style:{top:"228px",left:"-15px"}},"2"),n.a.createElement("div",{className:ea.a.daytime_bottom_line},n.a.createElement("div",{className:ea.a.daytime_time},"7:00"),n.a.createElement("div",{className:ea.a.daytime_time,style:{left:"33%"}},"13:00"),n.a.createElement("div",{className:ea.a.daytime_time,style:{left:"66%"}},"20:00"),n.a.createElement("div",{className:ea.a.daytime_time,style:{left:"100%"}},"00:00"),n.a.createElement("img",{src:aa.a,style:{left:"13%",padding:"2px"},alt:"Morning",className:R()(r&&ea.a.dark)}),n.a.createElement("img",{src:na.a,style:{left:"48%"},alt:"Afternoon",className:R()(r&&ea.a.dark)}),n.a.createElement("img",{src:ca.a,style:{left:"82%"},alt:"Evenining",className:R()(r&&ea.a.dark)})))))},ia=a(56),ua=a.n(ia),ma=a(99),da=a.n(ma),ga=function(e){var t=e.children,a=Y();return n.a.createElement("div",{className:R()(da.a.averageBox,a&&da.a.dark)},t)},pa=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return{user:e.user,logs:e.logs}})),a=t.user,s=t.logs,c=a&&a.userData&&a.userData.id,o=s.allLogs,i=o.logs,u=o.error,m=o.isFetching;if(Object(r.useEffect)((function(){c&&e(Ce({userId:c,limit:100}))}),[c,e]),Object(r.useEffect)((function(){return function(){e(Ie())}}),[e]),m||!c||!i)return n.a.createElement(Z,null);if(u)return n.a.createElement(me,null,u);var d=function(e){if(!e||!Array.isArray(e)||!e.length)return{};for(var t=[],a=0,r=0,n=0;n<e.length;n++){var s=e[n].date;if(t.indexOf(s)<0&&t.push(e[n].date),a+=Number(e[n].rating),r++,t.length>=7)break}return{average:Math.floor(10*a/r)/10,firstDay:t[t.length-1]?t[t.length-1]:"N/A",lastDay:t[0]?t[0]:"N/A"}}(i);return i&&Array.isArray(i)?n.a.createElement(r.Fragment,null,n.a.createElement(Je,null),n.a.createElement("div",{className:ua.a.container},n.a.createElement("h1",null,"User stats"),n.a.createElement("div",{className:ua.a.first_block},n.a.createElement("div",{className:ua.a.average_block},n.a.createElement("p",null,n.a.createElement("strong",null,"Your average mood:")),n.a.createElement(ga,null,function(e){if(!e||!Array.isArray(e)||!e.length)return null;var t=0;return e.forEach((function(e){e&&e.rating&&(t+=Number(e.rating))})),Math.floor(10*t/e.length)/10}(i)),n.a.createElement("div",{className:ua.a.small_text_box},"Retrieved from the last 100 logs")),n.a.createElement("div",{className:ua.a.average_block},n.a.createElement("b",null,"7 day mood:"),n.a.createElement(ga,null,d.average),n.a.createElement("div",{className:ua.a.small_text_box},"Counted from the last 7 active days from ",n.a.createElement("br",null),d.firstDay," to ",d.lastDay))),n.a.createElement(Zt,{logs:i}),n.a.createElement(la,{logs:i}))):void 0},Ea=new Ue.a,_a=function(){var e=function(){var e=Object(r.useState)({isDeleting:!1,error:null,success:null}),t=Object(M.a)(e,2),a=t[0],n=t[1],s=a.isDeleting,c=a.success,o=a.error,i=Object(l.d)((function(e){return e.user.userData.id})),u=Object(w.f)(),m=Object(l.c)();Object(r.useEffect)((function(){if(c){ge.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.a.awrap(m(ge.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e){return ge.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:b.clearUserData});case 1:case"end":return t.stop()}}))}));case 1:case"end":return e.stop()}}))));case 2:case"end":return e.stop()}})),Ea.remove("auth"),u.push(N)}}),[c]);var d={password:_e,confirmPassword:he},p=ye.a({password:ye.c().required(xe),confirmPassword:ye.c().oneOf([ye.b("password"),null],Ne)}),E=Object(pe.a)({initialValues:d,validationSchema:p,onSubmit:function(e){var t,a,r,s,c,o;return ge.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.password,i){l.next=3;break}return l.abrupt("return");case 3:return n((function(e){return Object(g.a)({},e,{isDeleting:!0})})),a="api/deleteAccount?id=".concat(i),r={password:t},l.prev=6,l.next=9,ge.a.awrap(Le.a.post(a,r));case 9:if(s=l.sent,c=s.data,!(o=c.error)){l.next=15;break}return n({isDeleting:!1,error:o,success:!1}),l.abrupt("return");case 15:n({isDeleting:!1,error:null,success:!0}),l.next=22;break;case 18:l.prev=18,l.t0=l.catch(6),console.error(l.t0),n({isDeleting:!1,error:l.t0,success:!1});case 22:case"end":return l.stop()}}),null,null,[[6,18]])}}),_=E.values,f=E.errors,v=E.isValid,h=E.handleChange,y=E.handleBlur,x=E.handleSubmit;return{values:_,errors:f,isValid:v,controlEvents:{handleChange:h,handleBlur:y},touched:E.touched,handleSubmit:x,isDeleting:s,error:o}}(),t=e.values,a=e.errors,s=e.isValid,c=e.controlEvents,o=e.touched,i=e.handleSubmit,u=e.isDeleting,m=e.error;return(n.a.createElement(r.Fragment,null,n.a.createElement(Ye,null),n.a.createElement(re,null,n.a.createElement(me,null,n.a.createElement("strong",null,"Warning: ")," deleting your account will permanently delete all your data, including all logs stored in the database."),n.a.createElement("br",null),n.a.createElement(ae,null,"Delete account:"),n.a.createElement(ne,null,"Enter your passsword:"),n.a.createElement(ce,{name:"password",value:t.password,type:"password",controlEvents:c}),o.password&&a.password&&n.a.createElement(le,null,a.password),n.a.createElement(ne,null,"Confirm your password:"),n.a.createElement(ce,{name:"confirmPassword",value:t.confirmPassword,type:"password",controlEvents:c}),o.confirmPassword&&a.confirmPassword&&n.a.createElement(le,null,a.confirmPassword),n.a.createElement(oe,null,n.a.createElement(z,{disabled:!s||u,handleClick:i},"Delete account")),m&&!u&&n.a.createElement(me,null,m))))},fa=a(33),va=a.n(fa),ha=a(72),ba=a.n(ha),ya=[{iconName:"home",path:"/",text:"Home",isAuth:null},{iconName:"sign-in",path:"/login",text:"Log In",isAuth:!1},{iconName:"sign-out",path:"/logout",text:"Log Out",isAuth:!0},{iconName:"user-plus",path:"/register",text:"Sign Up",isAuth:null},{iconName:"book",path:"/dashboard",text:"Your Dashboard",isAuth:!0},{iconName:"cog",path:"/settings",text:"Settings",isAuth:!0}],xa=function(e){var t=e.isAuth,a=e.toggleNav,r=Y(),s=function(e,t){return n.a.createElement(o.b,{to:e.path,key:t},n.a.createElement("div",{className:R()(ba.a.navItem,r&&ba.a.nightmode),onClick:a},n.a.createElement(Ve.a,{name:e.iconName})," ",e.text))};return n.a.createElement("div",null,n.a.createElement("div",{className:R()(ba.a.navBar,r&&ba.a.nightMode)},function(e){return e.map((function(e,a){return t&&e.isAuth?s(e,a):t||!1!==e.isAuth?null===e.isAuth?s(e,a):null:s(e,a)}))}(ya)),n.a.createElement("div",{className:ba.a.navBarMask,onClick:a}))},wa=function(e){var t=e.showNav,a=e.toggleNav;return(n.a.createElement("div",{className:va.a.bars},t?n.a.createElement(Ve.a,{name:"close",onClick:a,style:{fontSize:"1.5em",padding:"2px",color:"#f2f2f2",transform:"rotate(90deg)",transition:"0.5s"}}):n.a.createElement(Ve.a,{name:"bars",onClick:a,style:{fontSize:"1.5em",padding:"2px",color:"#f2f2f2",transform:"rotate(180deg)",transition:"0.5s"}})))},Na=a(126),Oa=a(101),ka=function(){var e=Y(),t=Object(r.useContext)(V);return n.a.createElement("button",{className:va.a.nightmode_button,onClick:t},n.a.createElement(Na.a,{icon:e?Oa.b:Oa.a,style:{fontSize:"1.5rem"}}),n.a.createElement("div",{className:va.a.nightmode_button_caption},e?"Day mode":"Night mode"))};var La=Object(l.b)((function(e){return{isAuth:e.user.isAuth}}))((function(e){var t=e.isAuth,a=Y(),s=function(){var e=Object(r.useState)(!1),t=Object(M.a)(e,2),a=t[0],n=t[1],s=Object(r.useCallback)((function(){n(!a)}),[a]);return{showNav:a,toggleNav:s}}(),c=s.showNav,o=s.toggleNav;return n.a.createElement("div",{className:va.a.header},n.a.createElement("div",{className:R()(va.a.top,a&&va.a.nightMode),style:a?{backgroundColor:"#2F2F2F"}:{}},n.a.createElement("div",{className:va.a.logo},"Moodapp"),n.a.createElement(wa,{showNav:c,toggleNav:o}),n.a.createElement(ka,null)),c&&n.a.createElement(xa,{toggleNav:o,isAuth:t}))})),ja=a(127),Sa=a(128),Aa=a(130),Ca=a(129),Ia=a(131),Da=function(e,t){var a=function(a){function r(){return Object(ja.a)(this,r),Object(Aa.a)(this,Object(Ca.a)(r).apply(this,arguments))}return Object(Ia.a)(r,a),Object(Sa.a)(r,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch(function(){var e=Le.a.get("/api/auth").then((function(e){return e.data}));return{type:b.userAuth,payload:e}}())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=e.user;a&&a.isAuth?a.isAuth&&!1===t&&this.props.history.push("/dashboard"):t&&this.props.history.push("/login")}},{key:"render",value:function(){var t=this.props.user;return!t||null===t.isAuth&&"/login"!==window.location.pathname?n.a.createElement(Z,null):n.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),r}(r.Component);return Object(l.b)((function(e){return{user:e.user}}))(a)},Ua=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(La,null),n.a.createElement("div",{className:"content_wrapper"},n.a.createElement(w.c,null,n.a.createElement(w.a,{path:N,exact:!0,component:Da($,null)}),n.a.createElement(w.a,{path:O,exact:!0,component:Da(qe,!1)}),n.a.createElement(w.a,{path:S,exact:!0,component:Da(ze,null)}),n.a.createElement(w.a,{path:L,exact:!0,component:Da(Nt,!0)}),n.a.createElement(w.a,{path:j,exact:!0,component:Da(jt,!0)}),n.a.createElement(w.a,{path:C,exact:!0,component:Da(Ut,!0)}),n.a.createElement(w.a,{path:I,exact:!0,component:Da(Tt,!0)}),n.a.createElement(w.a,{path:k,exact:!0,component:Da(Rt,!0)}),n.a.createElement(w.a,{path:A,exact:!0,component:Da(Qt,!0)}),n.a.createElement(w.a,{path:D,exact:!0,component:Da(_a,!0)}),n.a.createElement(w.a,{path:U,exact:!0,component:Da(pa,!0)}))))},Pa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Ba=Object(i.e)(x,{},Pa(Object(i.a)(m.a,d.a)));c.a.render(n.a.createElement(l.a,{store:Ba},n.a.createElement(J,null,n.a.createElement(o.a,null,n.a.createElement(Ua,null)))),document.getElementById("root"))},22:function(e,t,a){e.exports={formWrapper:"Forms_formWrapper__1mko5",heading:"Forms_heading__3bPSY",label:"Forms_label__3IUAR",textInput:"Forms_textInput__1Cd0Y",errorMessage:"Forms_errorMessage__1yEd9",formFooter:"Forms_formFooter__2wssa",textArea:"Forms_textArea__1N_0h"}},25:function(e,t,a){e.exports={greyText:"LastLogs_greyText__3a5zU",logSection:"LastLogs_logSection__xiQoH",logContainer:"LastLogs_logContainer__3RprA",logItem:"LastLogs_logItem__3PJKP",logContent:"LastLogs_logContent__3G__6",ratingBox:"LastLogs_ratingBox__1Uzxw",dark:"LastLogs_dark__JNMxU",rightSection:"LastLogs_rightSection__3DeBQ",date:"LastLogs_date__1uJZ_",text:"LastLogs_text__2JJGq",link:"LastLogs_link__1SUEq"}},33:function(e,t,a){e.exports={header:"Header_header__26Q9C",top:"Header_top__2ou-7",nightMode:"Header_nightMode__1B3nS",logo:"Header_logo__1RtJY",bars:"Header_bars__3SokF",rotateButton:"Header_rotateButton__n8exW",nightmode_button:"Header_nightmode_button__1kTM1",nightmode_button_caption:"Header_nightmode_button_caption__1yctb"}},38:function(e,t,a){e.exports={loadingScreen:"loading_loadingScreen__2L2K8",barContainer:"loading_barContainer__26aGf",dark:"loading_dark__1Hh-2",bar:"loading_bar__1UekV",wave:"loading_wave__22obD",delay1:"loading_delay1__2mzyY",delay2:"loading_delay2__1snf7"}},49:function(e,t,a){e.exports={logbutton:"AddNewLog_logbutton__2SJDj",available:"AddNewLog_available__1sdpe",dark:"AddNewLog_dark__3vuWe",unavailable:"AddNewLog_unavailable__3DnBc",floating:"AddNewLog_floating__3yJDJ",attentionBorder:"AddNewLog_attentionBorder__39PhW","at-border":"AddNewLog_at-border__2fK4l"}},50:function(e,t,a){e.exports={loadingScreen:"loadingNetItem_loadingScreen__HbLoA",barContainer:"loadingNetItem_barContainer__2ok7x",bar:"loadingNetItem_bar__3H8tT",wave:"loadingNetItem_wave__2soTu",delay1:"loadingNetItem_delay1__3NO4S",delay2:"loadingNetItem_delay2__30VLf"}},51:function(e,t,a){e.exports={item:"logItem_item__5AMYX",rating_box:"logItem_rating_box__1z_sK",icon:"logItem_icon__TcQOE",top_line:"logItem_top_line__1ryt9",date:"logItem_date__3Octs",text:"logItem_text__2YZlo"}},52:function(e,t,a){e.exports={graph_container:"GraphCanvas_graph_container__1Gq3r",graph_canvas:"GraphCanvas_graph_canvas__1J30U",graph_stroke:"GraphCanvas_graph_stroke__2b9l-",dark:"GraphCanvas_dark__3rUm8",y_axis_number:"GraphCanvas_y_axis_number__314_k"}},55:function(e,t,a){e.exports={wrapper:"Home_wrapper__G_kXT",bigLogo:"Home_bigLogo__1WHSZ",dark:"Home_dark__7nOZB",text:"Home_text__2zcfa",buttonWrapper:"Home_buttonWrapper__5GvUL"}},56:function(e,t,a){e.exports={container:"stats_container__3v-sK",first_block:"stats_first_block__3ttFm",average_block:"stats_average_block__3Kgzq",average_box:"stats_average_box__3rvPv",small_text_box:"stats_small_text_box__1kQCL"}},66:function(e,t,a){e.exports={miniHeader:"Settings_miniHeader__3UEUI"}},71:function(e,t,a){e.exports={topSection:"AddLogPage_topSection__2xnCS",moodBox:"AddLogPage_moodBox__1L5Kg",inputLine:"AddLogPage_inputLine__336dB",thumb:"AddLogPage_thumb__1YbFR"}},72:function(e,t,a){e.exports={navBar:"NavBar_navBar__28POm",appearTop:"NavBar_appearTop__AkjbT",navItem:"NavBar_navItem__t4_d1",nightmode:"NavBar_nightmode__tJMeS",navBarMask:"NavBar_navBarMask__2MECL",fadeIn:"NavBar_fadeIn__Ec-oC"}},74:function(e,t,a){e.exports={button:"Button_button__d3qRh",btnPrimary:"Button_btnPrimary__1Qie6",btnWhite:"Button_btnWhite___q7Zi",btnDark:"Button_btnDark__19vqj"}},75:function(e,t,a){e.exports={container:"BackButton_container__3efh3",button:"BackButton_button__1DOSm",text:"BackButton_text__92CkS",dark:"BackButton_dark__Cwc1w"}},76:function(e,t,a){e.exports={statusContainer:"MoodStatus_statusContainer__3gMau",statusBox:"MoodStatus_statusBox__2YpdJ",dark:"MoodStatus_dark__20FL3",statusText:"MoodStatus_statusText__oPBcq"}},93:function(e,t,a){e.exports={settingsIconWrapper:"SettingsItem_settingsIconWrapper__nOYv0",settingsIcon:"SettingsItem_settingsIcon__RZNCi",dark:"SettingsItem_dark__2zjck"}},94:function(e,t,a){e.exports={logoutIconWrapper:"LogoutItem_logoutIconWrapper__bJbj0",logoutIcon:"LogoutItem_logoutIcon__tuKmN",dark:"LogoutItem_dark__2W_X6"}},98:function(e,t,a){e.exports={pageWrapper:"AllLogs_pageWrapper__1B4Jq",bottomSection:"AllLogs_bottomSection__3rSVx"}},99:function(e,t,a){e.exports={averageBox:"AverageBox_averageBox__1N-xw",dark:"AverageBox_dark__YdJR5"}}},[[132,1,2]]]);
//# sourceMappingURL=main.a14dfb55.chunk.js.map