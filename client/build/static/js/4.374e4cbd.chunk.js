(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{117:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(140),s=a.n(o);t.a=function(){return r.a.createElement("div",{className:s.a.loadingScreen},r.a.createElement("div",{className:s.a.barContainer},r.a.createElement("div",{className:s.a.bar}),r.a.createElement("div",{className:[s.a.bar,s.a.delay1].join(" ")}),r.a.createElement("div",{className:[s.a.bar,s.a.delay2].join(" ")})))}},118:function(e,t,a){e.exports={grid:"Dashboard_grid__3hW_2",gridTop:"Dashboard_gridTop__3y_8y",gridItem:"Dashboard_gridItem__2C02j",gridItemHeader:"Dashboard_gridItemHeader__2aML3",gridItemContent:"Dashboard_gridItemContent__3zy8E",shrink:"Dashboard_shrink__3NyC-",flexCenter:"Dashboard_flexCenter__3HES0",settingsIcon:"Dashboard_settingsIcon__9ymsO"}},124:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={morning:"Morning",afternoon:"Afternoon",evening:"Evening",night:"Night"}},140:function(e,t,a){e.exports={loadingScreen:"loadingNetItem_loadingScreen__HbLoA",barContainer:"loadingNetItem_barContainer__2ok7x",bar:"loadingNetItem_bar__3H8tT",wave:"loadingNetItem_wave__2soTu",delay1:"loadingNetItem_delay1__3NO4S",delay2:"loadingNetItem_delay2__30VLf"}},141:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(124),r=function(){var e=new Date,t=e.getMonth()<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1),a=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return[e.getFullYear(),t,a].join("-")},o=function(){var e=(new Date).getHours();return e>=7&&e<=12?n.a.morning:e>12&&e<=19?n.a.afternoon:e>19&&e<=23?n.a.evening:e<7?n.a.night:null}},168:function(e,t,a){e.exports={logbutton:"AddNewLog_logbutton__2SJDj",available:"AddNewLog_available__1sdpe",dark:"AddNewLog_dark__3vuWe",unavailable:"AddNewLog_unavailable__3DnBc",floating:"AddNewLog_floating__3yJDJ",attentionBorder:"AddNewLog_attentionBorder__39PhW","at-border":"AddNewLog_at-border__2fK4l"}},169:function(e,t,a){e.exports={greyText:"LastLogs_greyText__3a5zU",logSection:"LastLogs_logSection__xiQoH",logContainer:"LastLogs_logContainer__3RprA",logItem:"LastLogs_logItem__3PJKP",logContent:"LastLogs_logContent__3G__6",ratingBox:"LastLogs_ratingBox__1Uzxw",dark:"LastLogs_dark__JNMxU",rightSection:"LastLogs_rightSection__3DeBQ",date:"LastLogs_date__1uJZ_",text:"LastLogs_text__2JJGq",link:"LastLogs_link__1SUEq"}},170:function(e,t,a){e.exports={statusContainer:"MoodStatus_statusContainer__3gMau",statusBox:"MoodStatus_statusBox__2YpdJ",dark:"MoodStatus_dark__20FL3",statusText:"MoodStatus_statusText__oPBcq"}},171:function(e,t,a){e.exports={settingsIconWrapper:"SettingsItem_settingsIconWrapper__nOYv0",settingsIcon:"SettingsItem_settingsIcon__RZNCi",dark:"SettingsItem_dark__2zjck"}},172:function(e,t,a){e.exports={logoutIconWrapper:"LogoutItem_logoutIconWrapper__bJbj0",logoutIcon:"LogoutItem_logoutIcon__tuKmN",dark:"LogoutItem_dark__2W_X6"}},184:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),s=a(8),i=a(22),l=a(32),c=a(168),u=a.n(c),d=a(117),g=a(26),m=a(141),_=a(124),b=a(12),v=a(20),f=a.n(v);var E=Object(i.b)((function(e){var t=e.logs,a=e.user,n=a&&a.userData&&a.userData.id?a.userData.id:null;return{canLog:t.canLog,userId:n}}))((function(e){var t=e.userId,a=e.canLog,c=e.darkTheme,v=Object(i.c)();return Object(n.useEffect)((function(){if(t){var e=Object(m.a)(),a=Object(m.b)();v(Object(l.a)(e,a,t))}}),[t]),null===a?r.a.createElement(d.a,null):a&&Object(m.b)()!==_.a.night?r.a.createElement(g.b,{to:b.a.addNewLog},r.a.createElement("div",{className:f()(u.a.logbutton,u.a.available,c&&u.a.dark)},r.a.createElement("div",{className:u.a.attentionBorder}),r.a.createElement(o.a,{icon:s.i,className:u.a.floating})," ADD LOG")):r.a.createElement("div",{className:f()(u.a.logbutton,u.a.unavailable)},"Next log will be available at: ",function(){var e=0;switch(Object(m.b)()){case _.a.morning:e=13;break;case _.a.afternoon:e=20;break;case _.a.evening:e=7;break;default:e=7}return"".concat(e,":00")}())})),N=a(28),h=a(14),I=a(118),L=a.n(I),x=a(169),k=a.n(x),p=a(96),j=function(){var e=Object(h.b)(),t=Object(i.d)((function(e){return e.logs.lastLogs})),a=t.logs,n=t.isFetching;return r.a.createElement("div",{className:L.a.gridItem},r.a.createElement("h3",{className:L.a.gridItemHeader},"Last logs"),n?r.a.createElement(d.a,null):a&&a.length?r.a.createElement("div",{className:f()(k.a.logSection,L.a.gridItemContent)},r.a.createElement("div",{className:k.a.logContainer},a.slice(0,3).map((function(t,a){return r.a.createElement("div",{key:a,className:k.a.logItem},r.a.createElement("div",{className:k.a.logContent},r.a.createElement("div",{className:f()(k.a.ratingBox,e&&k.a.dark)},t.rating),r.a.createElement("div",{className:k.a.rightSection},r.a.createElement("div",{className:k.a.date},t.date),r.a.createElement("div",{className:k.a.text},t.text))),r.a.createElement(g.b,{to:"/logs/".concat(t.id),className:f()(k.a.link,e&&k.a.dark)},"Read more"))}))),r.a.createElement(g.b,{to:"/logs"},r.a.createElement(p.a,null,"All Logs"))):r.a.createElement("div",{className:k.a.greyText},"There are no logs at the moment ",r.a.createElement("br",null),r.a.createElement("br",null),"Write Your first one, by pressing the green button at the top"))},D=a(170),y=a.n(D),O=[{above:7.5,below:10,text:"Great"},{above:5,below:7.5,text:"Good"},{above:3,below:5,text:"Average"},{above:0,below:3,text:"Bad"}],C=function(){var e=Object(i.d)((function(e){return e.logs.lastLogs})),t=e.logs,a=e.isFetching,r=Object(n.useMemo)((function(){return t&&Array.isArray(t)&&t.length?function(e){var t=0,a=0;e.forEach((function(e){t+=parseInt(e.rating),a++}));var n=Math.round(t/a*10/10);return Number.isInteger(n)?"".concat(n,".0"):String(n)}(t):"N/A"}),[t]),o=Object(n.useMemo)((function(){return t&&Array.isArray(t)&&t.length&&"N/A"!==r?function(e){var t=parseInt(e),a=O.find((function(e){return e.above<t&&e.below>=t}));return a?a.text:""}(r):""}),[t,r]);return{rating:r,ratingText:o,lastLogs:t,isFetchingLogs:a}},w=function(){var e=Object(h.b)(),t=C(),a=t.rating,o=t.ratingText,s=t.isFetchingLogs;return r.a.createElement("div",{className:f()(L.a.gridItem,y.a.statusContainer)},s?r.a.createElement(d.a,null):r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:L.a.gridItemHeader},"Latest mood status"),r.a.createElement("div",{className:L.a.gridItemContent},r.a.createElement("div",{className:f()(y.a.statusBox,e&&y.a.dark)},a),r.a.createElement("div",{className:y.a.statusText},o),r.a.createElement(g.b,{to:"/stats"},r.a.createElement(p.a,null,"Stats")))))},S=a(171),A=a.n(S),B=function(){var e=Object(h.b)();return(r.a.createElement("div",{className:f()(L.a.gridItem,L.a.shrink)},r.a.createElement("h3",{className:L.a.gridItemHeader},"Settings"),r.a.createElement("div",{className:L.a.flexCenter},r.a.createElement("div",{className:A.a.settingsIconWrapper},r.a.createElement(g.b,{to:b.a.settings},r.a.createElement(o.a,{icon:s.e,className:f()(A.a.settingsIcon,e&&A.a.dark)}))))))},T=a(172),M=a.n(T),W=function(){var e=Object(h.b)();return(r.a.createElement("div",{className:f()(L.a.gridItem,L.a.shrink)},r.a.createElement("h3",{className:L.a.gridItemHeader},"Log out"),r.a.createElement("div",{className:L.a.flexCenter},r.a.createElement(g.b,{to:b.a.logout},r.a.createElement("div",{className:M.a.logoutIconWrapper},r.a.createElement(o.a,{icon:s.k,className:f()(M.a.logoutIcon,e&&M.a.dark)}))))))},J=function(){var e=Object(h.b)(),t=Object(i.d)((function(e){return e.user.isAuth})),a=Object(i.d)((function(e){var t=e.user;return t&&t.userData&&t.userData.id?t.userData.id:null})),o=Object(i.c)();return Object(n.useEffect)((function(){a&&o(Object(l.f)({userId:a,limit:9}))}),[a,o]),null===t?r.a.createElement(N.a,null):t?r.a.createElement("div",null,r.a.createElement(E,{darkTheme:e}),r.a.createElement("div",{className:L.a.grid},r.a.createElement("h1",{className:L.a.gridTop},"Your dashboard"),r.a.createElement(j,null),r.a.createElement(w,null),r.a.createElement(B,null),r.a.createElement(W,null))):void 0};t.default=J},96:function(e,t,a){"use strict";var n=a(98);t.a=n.a},98:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(99),s=a.n(o),i=a(14),l=a(20),c=a.n(l);t.a=function(e){var t=e.color,a=void 0===t?"primary":t,n=e.handleClick,o=void 0===n?function(){}:n,l=e.disabled,u=e.children,d=Object(i.b)();return r.a.createElement("button",{className:c()(s.a.button,d&&s.a.btnDark,function(e){switch(e){case"primary":return s.a.btnPrimary;case"white":return s.a.btnWhite;default:return null}}(a)),onClick:o,disabled:l,type:"button"},u)}},99:function(e,t,a){e.exports={button:"Button_button__d3qRh",btnPrimary:"Button_btnPrimary__1Qie6",btnWhite:"Button_btnWhite___q7Zi",btnDark:"Button_btnDark__19vqj"}}}]);