(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{100:function(e,t,a){e.exports={container:"ErrorBox_container__2Xlyv",fadeIn:"ErrorBox_fadeIn__1l7CO"}},101:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(102),c=a.n(l),i=a(21),s=a(8),o=a(14),m=a(20),_=a.n(m);t.a=function(){var e=Object(o.b)();return(r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:_()(c.a.button,e&&c.a.dark),onClick:function(){window.history.back()}},r.a.createElement(i.a,{icon:s.a}),r.a.createElement("div",{className:c.a.text},"Go back"))))}},102:function(e,t,a){e.exports={container:"BackButton_container__3efh3",button:"BackButton_button__1DOSm",text:"BackButton_text__92CkS",dark:"BackButton_dark__Cwc1w"}},104:function(e,t,a){"use strict";var n=a(101);t.a=n.a},177:function(e,t,a){e.exports={graph_container:"GraphCanvas_graph_container__1Gq3r",graph_canvas:"GraphCanvas_graph_canvas__1J30U",graph_stroke:"GraphCanvas_graph_stroke__2b9l-",dark:"GraphCanvas_dark__3rUm8",y_axis_number:"GraphCanvas_y_axis_number__314_k"}},178:function(e,t,a){e.exports={daytime_container:"DaytimeGraph_daytime_container__37-ve",daytime_canvas:"DaytimeGraph_daytime_canvas__2kd4F",daytime_bullet:"DaytimeGraph_daytime_bullet__1n7sv",dark:"DaytimeGraph_dark__1TICY",daytime_bullet_text:"DaytimeGraph_daytime_bullet_text__3GHJr",y_axis_number_daytime:"DaytimeGraph_y_axis_number_daytime__7UrsM",daytime_bottom_line:"DaytimeGraph_daytime_bottom_line__3prcq",daytime_time:"DaytimeGraph_daytime_time__2qwry"}},179:function(e,t,a){e.exports=a.p+"static/media/morning.32026445.svg"},180:function(e,t,a){e.exports=a.p+"static/media/afternoon.1bf5e1d2.svg"},181:function(e,t,a){e.exports=a.p+"static/media/evening.30a34177.svg"},182:function(e,t,a){e.exports={container:"stats_container__3v-sK",first_block:"stats_first_block__3ttFm",average_block:"stats_average_block__3Kgzq",average_box:"stats_average_box__3rvPv",small_text_box:"stats_small_text_box__1kQCL"}},183:function(e,t,a){e.exports={averageBox:"AverageBox_averageBox__1N-xw",dark:"AverageBox_dark__YdJR5"}},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a(32),i=a(28),s=a(29),o=a(177),m=a.n(o),_=a(14),u=a(20),d=a.n(u);var f=function(e){var t=e.points,a=Object(_.b)();return r.a.createElement("polyline",{points:t,className:d()(m.a.graph_stroke,a&&m.a.dark)})},y=function(e){var t=e.logs,a=Object(n.useState)(0),l=Object(s.a)(a,2),c=l[0],i=l[1],o=Object(n.useRef)(null),_=function(){var e=0;(e=o.current&&o.current.offsetWidth?o.current.offsetWidth:490)!==c&&i(e)};Object(n.useEffect)((function(){return window.addEventListener("resize",_),!c&&o.current&&o.current.offsetWidth&&i(o.current.offsetWidth),function(){window.removeEventListener("resize",_)}}),[]);var u=function(e){if(!e||!Array.isArray(e)||!e.length)return null;for(var t=[],a=0;a<e.length;a++){var n=e[a],r=n.date,l=n.rating;if(t.push({date:r,rating:l}),20===a)break}return t}(t);if(!u||!u.length)return null;var d=u[0].date,y=u[u.length-1].date;return r.a.createElement("div",{className:m.a.graph_container},r.a.createElement("p",null,r.a.createElement("strong",null,"Your mood graph")),r.a.createElement("div",{className:m.a.graph_canvas,ref:o},r.a.createElement("div",{className:m.a.y_axis_number},"10"),r.a.createElement("div",{className:m.a.y_axis_number,style:{transform:"translate(10px, 100px)"}},"5"),r.a.createElement("div",{className:m.a.y_axis_number,style:{transform:"translate(10px, 200px)"}},"0"),r.a.createElement("svg",{width:"100%",height:"100%"},r.a.createElement("polyline",{points:"1,20 490,20",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,40 490,40",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,60 490,60",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,80 490,80",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,100 490,100",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,120 490,120",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,140 490,140",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,160 490,160",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,180 490,180",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,200 490,200",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement(f,{points:function(e){for(var t="",a=0;a<e.length;a++){var n=220-20*Number(e[a].rating);t+=Math.floor(c/21*(e.length-a-1))+","+n+" "}return t}(u)}))),r.a.createElement("div",null,"From ",y," to ",d))},v=a(178),p=a.n(v),g=a(179),h=a.n(g),E=a(180),b=a.n(E),k=a(181),x=a.n(k),N=function(e,t,a){return"N/A"===e?null:r.a.createElement("div",{className:d()(p.a.daytime_bullet,a&&p.a.dark),style:{bottom:"".concat(30*e-10,"px"),left:"".concat(t)}},r.a.createElement("div",{className:p.a.daytime_bullet_text},e))},A=function(e){var t=e.logs,a=function(e){for(var t=0,a=0,n=0,r=0,l=0,c=0,i=0;i<e.length;i++)"Morning"===e[i].timing&&(t+=Number(e[i].rating),a++),"Afternoon"===e[i].timing&&(n+=Number(e[i].rating),r++),"Evening"===e[i].timing&&(l+=Number(e[i].rating),c++);return{morningAverage:0===a?"N/A":Math.floor(10*t/a)/10,afternoonAverage:0===r?"N/A":Math.floor(10*n/r)/10,eveningAverage:0===c?"N/A":Math.floor(10*l/c)/10}}(t),n=Object(_.b)();if(!t||!t.length||!a)return null;var l=a.morningAverage,c=a.afternoonAverage,i=a.eveningAverage;return(r.a.createElement("div",{className:p.a.daytime_container},r.a.createElement("p",null,r.a.createElement("strong",null,"Your mood throughout the day:")),r.a.createElement("div",{className:p.a.daytime_canvas},r.a.createElement("svg",{width:"100%",height:"100%",overflow:"hidden"},r.a.createElement("polyline",{points:"1,60 300,60",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,120 300,120",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,180 300,180",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,240 300,240",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}}),r.a.createElement("polyline",{points:"1,300 300,300",style:{fill:"none",stroke:"#cccccc",strokeWidth:"1"}})),N(l,null,n),N(c,"48%",n),N(i,"82%",n),r.a.createElement("div",{className:p.a.y_axis_number_daytime,style:{top:"-12px"}},"10"),r.a.createElement("div",{className:p.a.y_axis_number_daytime,style:{top:"48px",left:"-15px"}},"8"),r.a.createElement("div",{className:p.a.y_axis_number_daytime,style:{top:"108px",left:"-15px"}},"6"),r.a.createElement("div",{className:p.a.y_axis_number_daytime,style:{top:"168px",left:"-15px"}},"4"),r.a.createElement("div",{className:p.a.y_axis_number_daytime,style:{top:"228px",left:"-15px"}},"2"),r.a.createElement("div",{className:p.a.daytime_bottom_line},r.a.createElement("div",{className:p.a.daytime_time},"7:00"),r.a.createElement("div",{className:p.a.daytime_time,style:{left:"33%"}},"13:00"),r.a.createElement("div",{className:p.a.daytime_time,style:{left:"66%"}},"20:00"),r.a.createElement("div",{className:p.a.daytime_time,style:{left:"100%"}},"00:00"),r.a.createElement("img",{src:h.a,style:{left:"13%",padding:"2px"},alt:"Morning",className:d()(n&&p.a.dark)}),r.a.createElement("img",{src:b.a,style:{left:"48%"},alt:"Afternoon",className:d()(n&&p.a.dark)}),r.a.createElement("img",{src:x.a,style:{left:"82%"},alt:"Evenining",className:d()(n&&p.a.dark)})))))},W=a(182),O=a.n(W),G=a(104),w=a(97),B=a(183),D=a.n(B),j=function(e){var t=e.children,a=Object(_.b)();return r.a.createElement("div",{className:d()(D.a.averageBox,a&&D.a.dark)},t)},C=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return{user:e.user,logs:e.logs}})),a=t.user,s=t.logs,o=a&&a.userData&&a.userData.id,m=s.allLogs,_=m.logs,u=m.error,d=m.isFetching;if(Object(n.useEffect)((function(){o&&e(Object(c.h)({userId:o,limit:100}))}),[o,e]),Object(n.useEffect)((function(){return function(){e(Object(c.e)())}}),[e]),d||!o||!_)return r.a.createElement(i.a,null);if(u)return r.a.createElement(w.a,null,u);var f=function(e){if(!e||!Array.isArray(e)||!e.length)return{};for(var t=[],a=0,n=0,r=0;r<e.length;r++){var l=e[r].date;if(t.indexOf(l)<0&&t.push(e[r].date),a+=Number(e[r].rating),n++,t.length>=7)break}return{average:Math.floor(10*a/n)/10,firstDay:t[t.length-1]?t[t.length-1]:"N/A",lastDay:t[0]?t[0]:"N/A"}}(_);return _&&Array.isArray(_)?r.a.createElement(n.Fragment,null,r.a.createElement(G.a,null),r.a.createElement("div",{className:O.a.container},r.a.createElement("h1",null,"User stats"),r.a.createElement("div",{className:O.a.first_block},r.a.createElement("div",{className:O.a.average_block},r.a.createElement("p",null,r.a.createElement("strong",null,"Your average mood:")),r.a.createElement(j,null,function(e){if(!e||!Array.isArray(e)||!e.length)return null;var t=0;return e.forEach((function(e){e&&e.rating&&(t+=Number(e.rating))})),Math.floor(10*t/e.length)/10}(_)),r.a.createElement("div",{className:O.a.small_text_box},"Retrieved from the last 100 logs")),r.a.createElement("div",{className:O.a.average_block},r.a.createElement("b",null,"7 day mood:"),r.a.createElement(j,null,f.average),r.a.createElement("div",{className:O.a.small_text_box},"Counted from the last 7 active days from ",r.a.createElement("br",null),f.firstDay," to ",f.lastDay))),r.a.createElement(y,{logs:_}),r.a.createElement(A,{logs:_}))):void 0};t.default=C},97:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(100),c=a.n(l),i=function(e){var t=e.children;return(r.a.createElement("div",{className:c.a.container},t))};t.a=i}}]);