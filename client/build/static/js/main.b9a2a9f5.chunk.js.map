{"version":3,"sources":["components/dashboard.module.css","reducers/index.js","reducers/log_reducer.js","reducers/user_reducer.js","widgets/nightmodeColors.js","hoc/ThemeContext.js","hoc/navBarItems.js","hoc/navModal.js","hoc/navBar.js","hoc/header.js","hoc/layout.js","widgets/Button.js","widgets/loading.js","components/Home.js","widgets/FormWrapper.js","actions/index.js","widgets/MessageBox.js","components/loginForm.js","components/Login.js","widgets/backButton.js","components/registerForm.js","components/Register.js","widgets/loadingNetItem.js","components/DashboardNet.js","widgets/addNewLog.js","components/Dashboard.js","widgets/moodBox.js","components/AddLog.js","widgets/logItem.js","components/AllLogs.js","components/LogView.js","components/LogOut.js","components/Settings.js","components/stats/GraphCanvas.js","components/stats/DaytimeGraph.js","components/stats/Stats.js","components/stats/statsFunctions.js","components/DeleteAccount.js","hoc/auth.js","routes.js","index.js","hoc/css/header.module.css","components/stats/stats.module.css","components/logview.module.css","widgets/loading.module.css","widgets/loadingNetItem.module.css","widgets/logItem.module.css","components/home.module.css","widgets/newLog.module.css","components/addlog.module.css","components/settings.module.css","widgets/backButton.module.css","widgets/messagebox.module.css","components/logs.module.css","widgets/button.module.css","widgets/formwrapper.module.css","components/register.module.css","widgets/moodbox.module.css","components/stats/morning.svg","components/stats/afternoon.svg","components/stats/evening.svg"],"names":["module","exports","rootReducer","combineReducers","logs","state","action","type","data","payload","lastLogs","lastNineLogs","logInfo","list","logPosted","user","success","error","returnWhite","nightmode","color","returnBarStyle","nm","border","backgroundColor","dashboardButtonStyle","background","ratingButtonStyle","graphStroke","stroke","ThemeContext","React","createContext","UpdateThemeContext","useTheme","useContext","ThemeProvider","children","useState","localStorage","getItem","undefined","retrieveData","darkTheme","updateTheme","useEffect","document","body","style","Provider","value","prevTheme","setItem","NavBarItems","props","items","iconName","path","text","isAuth","itemElement","item","i","to","key","className","styles","navItem","onClick","toggleNav","name","map","NavModal","navBarDark","closeNav","NavBar","navBar","connect","openNav","changeNavState","header","top","logo","bars","opacity","fontSize","padding","transform","transition","nightmode_button","icon","faSun","faMoon","nightmode_button_caption","Layout","this","Component","ButtonWid","isDisabled","styleObject","cursor","returnStyle","disabled","button","Loading","loadingScreen","barContainer","bar","delay1","join","delay2","wrapper","animateIn","animateOnce","bigLogo","delay","offset","textAlt","firstName","buttons","Button","renderButtons","FormWrapper","formWrapper","canUserLog","currentDate","currentTiming","userId","date","timing","request","axios","post","dispatch","then","response","canLog","getLogs","start","limit","get","MessageBox","messageBox","LoginForm","email","password","message","handleEmail","event","setState","target","handlePassword","handleForm","showErrorMessage","loginUser","renderMessage","nextProps","onChange","width","display","alignItems","justifyContent","Login","BackButton","top_panel","back_button","window","history","back","button_text","RegisterForm","fname","lname","handleFName","handleLName","trim","length","lastName","createUser","renderLoginButton","code","center_line","Register","LoadingNetItem","LastLogsItem","arr","grey_text","flex_between","net_itemHeader","String","slice","log_wrapper","log_content","rating_box","rating","right_box","log_date","log_text","read_log","_id","button_logs","MoodStatus","returnRating","total","quantity","parseInt","average","Math","round","Number","isInteger","status_container","status_box","status_text","parsedRating","returnMessage","SettingsItem","net_header","flex_container","settings_icon_wrapper","settings_icon","LogoutItem","logout_icon_wrapper","DashboardNet","url","getLastLogs","net","net_item","AddNewLog","timeRemaining","returnDate","Date","month","getMonth","day","getDate","getFullYear","returnDaytime","hour","getHours","daytime","renderButton","logbutton","available","attentionBorder","floating","unavailable","returnTimeRemaining","timeOfNextLog","UserBoard","Dashboard","userLogged","id","MoodBox","moodbox","AddLog","dataReceived","mood","moodText","errorMessage","handleMoodText","handleMoodInput","moodRating","handleTextInput","handleFormData","ownerId","postLog","handleKeyUp","keyCode","preventDefault","renderErrorMessage","nextprops","push","setTimeout","htmlFor","center","inputLine","thumb","min","max","onKeyUp","placeholder","LogItem","top_line","LogList","skip","loadMoreLogs","returnLogs","returnLoadMoreButton","logs_wrapper","bottom_panel","AllLogs","LogView","viewLog","match","params","log","logWrapper","LogOut","status","logOut","Settings","currentPassword","newPassword","dataSuccess","dataSuccessMessage","passwordChanged","passwordChangedMessage","handleFirstName","handleLastName","handleCurrentPassword","handleNewPassword","saveChanges","catch","err","renderDataChangedMessage","renderPasswordChangedMessage","saveNewPassword","oldpassword","newpassword","redirectToDeleteAccount","location","doc","ReturnGraph","points","graph_stroke","GraphCanvas","returnPolylinePoints","pointsString","elementWidth","ratingYpos","floor","myInput","createRef","addEventListener","newWidth","current","offsetWidth","graph_canvas","ref","y_axis_number","height","fill","strokeWidth","DaytimeGraph","obj","returnIconClass","daytime_icon_nightmode","daytime_icon","returnBullet","left","daytime_bullet","bottom","daytime_bullet_text","daytime_canvas","overflow","morningAverage","afternoonAverage","eveningAverage","y_axis_number_daytime","daytime_bottom_line","daytime_time","src","morningIcon","alt","afternoonIcon","eveningIcon","AverageBox","average_box","Stats","sevenDayAverageObject","dates","sum","count","indexOf","firstDay","lastDay","lastSevenDaysAverage","listToArrayObject","listToArray","daytimeAverageObject","morningSum","morningCount","afternoonSum","afternoonCount","eveningSum","eveningCount","returnDaytimeStats","container","first_block","average_block","countAverage","small_text_box","graph_container","daytime_container","DeleteAccount","password_confirm","errorMsg","handlePasswordConfirm","handleDeleteAccount","ComposedClass","reload","AuthenticationCheck","Routes","exact","component","Auth","Home","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","store","reducers","getElementById"],"mappings":"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","file":"static/js/main.b9a2a9f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"net\":\"dashboard_net__29v1D\",\"net_header\":\"dashboard_net_header__mJxst\",\"net_item\":\"dashboard_net_item__2s5Kr\",\"net_itemHeader\":\"dashboard_net_itemHeader__3ff1G\",\"grey_text\":\"dashboard_grey_text__nwxhS\",\"flex_between\":\"dashboard_flex_between__1Orke\",\"log_wrapper\":\"dashboard_log_wrapper__3YCBP\",\"log_content\":\"dashboard_log_content__3ZGxc\",\"rating_box\":\"dashboard_rating_box__2tT1T\",\"right_box\":\"dashboard_right_box__1JyH-\",\"log_date\":\"dashboard_log_date__ZPhUO\",\"log_text\":\"dashboard_log_text__jdt1W\",\"read_log\":\"dashboard_read_log__2dsnM\",\"button_logs\":\"dashboard_button_logs__1OSmW\",\"status_container\":\"dashboard_status_container__2oYiD\",\"status_box\":\"dashboard_status_box__1EASj\",\"status_text\":\"dashboard_status_text__2R8er\",\"flex_container\":\"dashboard_flex_container__2Ycr8\",\"settings_icon_wrapper\":\"dashboard_settings_icon_wrapper__3ncII\",\"settings_icon\":\"dashboard_settings_icon__32VOH\",\"settings_container\":\"dashboard_settings_container__1NS0F\",\"logout_icon_wrapper\":\"dashboard_logout_icon_wrapper__1PDMg\"};","import { combineReducers } from 'redux';\r\nimport logs from './log_reducer';\r\nimport user from './user_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    logs,\r\n    user\r\n});\r\n\r\nexport default rootReducer;","export default function(state={}, action) {\r\n    switch(action.type) {\r\n        case 'CAN_LOG' :\r\n            return {...state, data: action.payload};\r\n        case 'CANNOT_LOG' :\r\n            return {...state, data: action.payload};\r\n        case 'GET_LAST_LOGS' : \r\n            return {...state, lastLogs: action.lastLogs};\r\n        case 'GET_MOOD_STATUS' :\r\n            return {...state, lastNineLogs: action.payload}\r\n        case 'GET_LOG' :\r\n            return {...state, logInfo: action.payload}\r\n        case 'CLEAR_LOG' :\r\n            return {...state, logInfo: action.payload}\r\n        case 'GET_LOGS' :\r\n            return {...state, list: action.payload}\r\n        case 'POST_LOG' :\r\n            return {...state, logPosted: action.payload}\r\n        case 'CLEAR_POST_LOG' :\r\n            return {...state, logPosted: action.payload}\r\n        case 'CLEAR_LOGS' :\r\n            return {lastLogs: action.payload, data: action.payload}\r\n        case 'CLEAR_LAST_LOGS' :\r\n            return {...state, lastLogs: action.lastLogs}\r\n        default:\r\n            return state;\r\n    }\r\n}","export default function(state={}, action) {\r\n    switch(action.type) {\r\n        case 'CREATE_USER':\r\n            return {...state, success:action.payload.success, error:action.payload.error }\r\n        case 'LOGIN_USER' :\r\n            return {...state, data: action.payload.data }\r\n        case 'USER_AUTH' :\r\n            return {...state, data: action.payload }\r\n        case 'CLEAN_USER' :\r\n            return {...state, data: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}","export function returnWhite(nightmode) {\r\n    if (nightmode === true) {\r\n        return {\r\n            color: \"#f2f2f2\"\r\n        }\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport function returnBarStyle(nm) {\r\n    if (nm === true) {\r\n        return {  border: '1px solid #f2f2f2',\r\n                backgroundColor: '#f2f2f2'}\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function returnLightGrey (nm) {\r\n    if (nm === true) {\r\n        return {\r\n            color: '#f2f2f2'\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nexport function returnNavbarStyle(nm) {\r\n    if (nm === true) {\r\n        return {\r\n            backgroundColor: \"#404040\",\r\n            color: \"#ffffff\"\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nexport function returnDarkBackground(nm) {\r\n    if (nm === true) {\r\n        return {\r\n            backgroundColor: \"#404040\"\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nexport function dashboardButtonStyle(nm) {\r\n    if (nm === true) {\r\n        return {\r\n            background: \"#cccccc\",\r\n            color: \"#0d0d0d\"\r\n        }\r\n    }\r\n}\r\n//\r\nexport function ratingButtonStyle(nm) {\r\n    if (nm === true) {\r\n        return {\r\n            background: \"#cccccc\",\r\n            color: \"#0d0d0d\"\r\n        }\r\n    }\r\n}\r\n\r\nexport function graphStroke(nm) {\r\n    if (nm === true) {\r\n        return {\r\n            stroke: \"#d2d2d2\"\r\n        }\r\n    }\r\n}","import React, { useContext, useState, useEffect } from 'react';\r\n\r\n// Creating contexts\r\nconst ThemeContext = React.createContext();\r\nconst UpdateThemeContext = React.createContext();\r\n\r\n// Custom hooks\r\nexport function useTheme() {\r\n    return useContext(ThemeContext);\r\n};\r\n\r\nexport function useThemeUpdate() {\r\n    return useContext(UpdateThemeContext);\r\n};\r\n\r\nexport function ThemeProvider ({children}) {\r\n    const retrieveData = () => {\r\n        let nightmode = localStorage.getItem('nightmode');\r\n        if (nightmode !== undefined) {\r\n            if (nightmode === 'true') {\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const [ darkTheme, updateTheme ] = useState(retrieveData());\r\n\r\n    useEffect( () => {\r\n        if (darkTheme === true) {\r\n            document.body.style.background = \"rgb(51, 51, 51)\";\r\n            document.body.style.color = \"rgb(242,242,242\";\r\n        } else {\r\n            document.body.style.background = \"#FFFFFF\";\r\n            document.body.style.color = \"#000000\";\r\n        }\r\n    }, [darkTheme]);\r\n\r\n    const toggleTheme = () => {\r\n        updateTheme( (prevTheme) => { \r\n            localStorage.setItem('nightmode', !prevTheme);\r\n            return !prevTheme \r\n        });\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={darkTheme}>\r\n            <UpdateThemeContext.Provider value={toggleTheme}>\r\n                {children}\r\n            </UpdateThemeContext.Provider>\r\n        </ThemeContext.Provider>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { returnNavbarStyle } from './../widgets/nightmodeColors';\r\nimport styles from './css/header.module.css';\r\nimport { useTheme } from './ThemeContext';\r\n\r\nconst NavBarItems = (props) => {\r\n    const darkTheme = useTheme();\r\n    const items = [\r\n        {\r\n            iconName: \"home\",\r\n            path: \"/\",\r\n            text: \"Home\",\r\n            isAuth: null\r\n        },\r\n        {\r\n            iconName: \"sign-in\",\r\n            path: \"/login\",\r\n            text: \"Log In\",\r\n            isAuth: false\r\n        },\r\n        {\r\n            iconName: \"sign-out\",\r\n            path: \"/logout\",\r\n            text: \"Log Out\",\r\n            isAuth: true\r\n        },\r\n        {\r\n            iconName: \"user-plus\",\r\n            path: \"/register\",\r\n            text: \"Sign Up\",\r\n            isAuth: null\r\n        },\r\n        {\r\n            iconName: \"book\",\r\n            path: \"/dashboard\",\r\n            text: \"Your Dashboard\",\r\n            isAuth: true\r\n        },\r\n        {\r\n            iconName: \"cog\",\r\n            path: \"/settings\",\r\n            text: \"Settings\",\r\n            isAuth: true\r\n        }\r\n    ];\r\n    const itemElement = (item, i) => (\r\n        <Link to={item.path} key={i}>\r\n            <div className={styles.navItem} onClick={props.toggleNav} style={returnNavbarStyle(darkTheme)}>\r\n                <FontAwesome name={item.iconName}/> {item.text}\r\n            </div> \r\n        </Link>\r\n    )\r\n    \r\n    const showItems = () => (\r\n            items.map( (item, i) => {\r\n                if (props.isAuth === true && item.isAuth === true) {\r\n                    return itemElement(item,i)     \r\n                } else if (props.isAuth !== true && item.isAuth === false) {\r\n                    return itemElement(item,i) \r\n                } else if (item.isAuth === null) {\r\n                    return itemElement(item,i)\r\n                }\r\n                return null\r\n            })\r\n        \r\n    )\r\n\r\n    return (\r\n        <div>\r\n            {showItems()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavBarItems\r\n","import React from 'react';\r\nimport styles from './css/header.module.css';\r\n\r\nconst NavModal = (props) => {\r\n    return (\r\n        <div className={styles.navBarDark} onClick={props.closeNav}></div>\r\n    );\r\n};\r\n\r\nexport default NavModal;\r\n\r\n","import React from 'react';\r\nimport styles from './css/header.module.css';\r\n\r\nimport NavBarItems from './navBarItems';\r\nimport NavModal from './navModal';\r\n\r\nconst NavBar = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.navBar}>\r\n                <NavBarItems toggleNav={props.toggleNav} isAuth={props.isAuth}/>\r\n            </div>\r\n            <NavModal closeNav={props.closeNav}/>\r\n        </div> \r\n    );\r\n};\r\n\r\nexport default NavBar;","import React, { useState } from 'react';\r\nimport styles from './css/header.module.css';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { connect } from 'react-redux';\r\nimport NavBar from './navBar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSun, faMoon } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { useThemeUpdate, useTheme } from './ThemeContext';\r\n\r\nconst Header = ( props ) => {\r\n    const [ openNav, changeNavState ] = useState(false);\r\n    const darkTheme = useTheme();\r\n\r\n    const returnStyle = () => {\r\n        if (darkTheme === true) {\r\n            return { backgroundColor: \"#2F2F2F\"}\r\n        } \r\n        return null\r\n    }\r\n\r\n    const toggleNav = () => {\r\n        changeNavState( !openNav );\r\n    }\r\n\r\n\r\n    const makeInvisible = () => (\r\n        props.user.data ?\r\n        {opacity : \"1\"} :\r\n        {opacity : \"0\"}\r\n    )\r\n\r\n    const returnButton = () => (\r\n        openNav ?\r\n            <FontAwesome\r\n            name=\"close\"\r\n            onClick={toggleNav}\r\n            style={{\r\n                    fontSize: '1.5em',\r\n                    padding: \"2px\",\r\n                    color: \"#f2f2f2\",\r\n                    transform: \"rotate(90deg)\",\r\n                    transition: \"0.5s\"\r\n            }}/>\r\n         :\r\n            <FontAwesome\r\n            name=\"bars\"\r\n            onClick={toggleNav}\r\n            style={\r\n                {\r\n                    fontSize: '1.5em',\r\n                    padding: \"2px\",\r\n                    color: \"#f2f2f2\",\r\n                    transform: \"rotate(180deg)\",\r\n                    transition: \"0.5s\"\r\n            }}/>\r\n    )\r\n\r\n    const showItems = () => (\r\n        openNav ?\r\n        <NavBar toggleNav={toggleNav} isAuth={props.user.data.isAuth}/>\r\n        : null\r\n    )\r\n\r\n    const updateTheme = useThemeUpdate();\r\n\r\n    const showNightmodeButton = () => (\r\n        <div className={styles.nightmode_button} onClick={updateTheme}>\r\n            <FontAwesomeIcon icon={darkTheme === true ? faSun : faMoon} style={{fontSize:\"1.5rem\"}}></FontAwesomeIcon>\r\n            <div className={styles.nightmode_button_caption}> {darkTheme === true ? `Day mode` : `Night mode`}</div>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n            <div className={styles.header}>\r\n                <div className={styles.top} style={returnStyle()}>\r\n                    <div className={styles.logo}>\r\n                        Moodapp\r\n                    </div>\r\n                    <div className={styles.bars} style={makeInvisible()}>\r\n                        {returnButton()}\r\n                    </div>\r\n                    {showNightmodeButton()}\r\n                </div>\r\n                {showItems()}\r\n            </div>\r\n    );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(Header);","import React, { Component } from 'react';\r\nimport Header from './header';\r\nimport { ThemeProvider } from './ThemeContext';\r\n\r\nclass Layout extends Component {\r\n    render() {\r\n        return (\r\n            <ThemeProvider>\r\n                <Header/>\r\n                <div className=\"content_wrapper\">\r\n                        {this.props.children}\r\n                </div>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Layout;","import React from 'react';\r\nimport styles from './button.module.css';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\n\r\nconst ButtonWid = (props) => {\r\n    const darkTheme = useTheme();\r\n\r\n    const returnStyle = (darkTheme, isDisabled) => {\r\n        let styleObject = {};\r\n        // Color properties\r\n        if (darkTheme) {\r\n            styleObject.color = \"#0d0d0d\";\r\n            styleObject.background = \"#d2d2d2\";\r\n        } else {\r\n            styleObject.color = props.color;\r\n            styleObject.background = props.background;\r\n        }\r\n        // Disabled\r\n        if (isDisabled) {\r\n            styleObject.background = '#cccccc';\r\n            styleObject.color = '#808080';\r\n            styleObject.cursor = 'not-allowed';\r\n        };\r\n        return styleObject;\r\n    }\r\n\r\n    return (\r\n        <div  \r\n            style={returnStyle(darkTheme, props.disabled)}\r\n            className={styles.button} \r\n        >\r\n            {props.children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ButtonWid;","import React from 'react';\r\nimport styles from './loading.module.css';\r\nimport { returnBarStyle, returnLightGrey } from './nightmodeColors';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\nconst Loading = () => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div className={styles.loadingScreen}>\r\n            <div style={returnLightGrey(darkTheme)}>\r\n                Loading    \r\n            </div>\r\n            <br/>\r\n            <div className={styles.barContainer}>\r\n                <div className={styles.bar} style={returnBarStyle(darkTheme)}></div>\r\n                <div className={[styles.bar, styles.delay1].join(' ')} style={returnBarStyle(darkTheme)}></div>\r\n                <div className={[styles.bar, styles.delay2].join(' ')} style={returnBarStyle(darkTheme)}></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport ScrollAnimation from 'react-animate-on-scroll';\r\nimport \"animate.css/animate.min.css\";\r\n\r\nimport styles from './home.module.css';\r\nimport ButtonWid from './../widgets/Button';\r\nimport Loading from '../widgets/loading';\r\n\r\nimport { returnWhite } from './../widgets/nightmodeColors';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\nconst Home = ({user, nightmode}) => {\r\n    const darkTheme = useTheme();\r\n\r\n    const renderGreeting = (isAuth) => {\r\n        if (isAuth) {\r\n            return (\r\n                <div className={styles.textAlt}>\r\n                    Hello <span style={{color:\"#3366ff\"}}> {user.data.firstName} </span>  \r\n                </div>\r\n            )\r\n        }\r\n        return ( <div className={styles.textAlt}>Your daily mood tracker</div>)\r\n    }\r\n    const renderButtons = (isAuth) => {\r\n        if (isAuth) {\r\n            return (\r\n                <div className={styles.buttons}>\r\n                    <Link to=\"/dashboard\">\r\n                        <ButtonWid nightmode={darkTheme} color={\"#fffff2\"} background={\"#3366ff\"}>\r\n                            Dashboard\r\n                        </ButtonWid>\r\n                    </Link>\r\n                    <Link to=\"/logout\">\r\n                        <ButtonWid nightmode={darkTheme} color={\"#3366ff\"} background={\"#fff2f2\"}>\r\n                            Log Out\r\n                        </ButtonWid>\r\n                    </Link>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div className={styles.buttons}>\r\n                <Link to=\"/login\">\r\n                    <ButtonWid nightmode={darkTheme} color={\"#fffff2\"} background={\"#3366ff\"}>\r\n                        Log In\r\n                    </ButtonWid>\r\n                </Link>\r\n                <Link to=\"/register\">\r\n                    <ButtonWid nightmode={darkTheme} color={\"#3366ff\"} background={\"#fff2f2\"}>\r\n                        Register\r\n                    </ButtonWid>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (user.data) {\r\n        return  (\r\n        <div className={styles.wrapper} >\r\n            <ScrollAnimation animateIn=\"fadeInDown\" animateOnce={true}>\r\n                <div className={styles.bigLogo} style={returnWhite(darkTheme)}>\r\n                    MoodApp\r\n                </div>\r\n            </ScrollAnimation>\r\n            <ScrollAnimation animateIn=\"fadeInDown\" delay={1000} offset={75} animateOnce={true}>\r\n               {renderGreeting(user.data.isAuth)}\r\n            </ScrollAnimation>\r\n            <ScrollAnimation animateIn=\"fadeInDown\" delay={2000} offset={75} animateOnce={true}>\r\n                {renderButtons(user.data.isAuth)}\r\n            </ScrollAnimation> \r\n        </div>)\r\n    } else {\r\n        return ( <Loading nightmode={darkTheme}/>)\r\n    }\r\n\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Home);","import React from 'react';\r\nimport styles from './formwrapper.module.css';\r\n\r\nconst FormWrapper = (props) => {\r\n    return (\r\n        <div className={styles.formWrapper}>\r\n            {props.children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FormWrapper;","import axios from 'axios';\r\n\r\nexport function createUser(user) {\r\n    const request = axios.post('/api/users', user)\r\n    return (dispatch) => {\r\n        request.then( ( {data} ) => {\r\n            let response = {\r\n                success: data.success,\r\n                error: data.error\r\n            }\r\n            dispatch({\r\n                type: 'CREATE_USER',\r\n                payload: response\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport function loginUser(user) {\r\n    const request = axios.post('/api/login', user)\r\n    return (dispatch) => {\r\n        request.then( ({data}) => {\r\n            let response = {\r\n                data: data\r\n            }\r\n            dispatch({\r\n                type: 'LOGIN_USER',\r\n                payload: response\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport function logOut() {\r\n    const request = axios.get('/api/logout')\r\n    return (dispatch) => {\r\n        request.then( (response) => {\r\n            if (response.status === 200) {\r\n                dispatch({\r\n                    type: 'CLEAN_USER',\r\n                    payload: {}\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function deleteUser() {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'CLEAN_USER',\r\n            payload: {}\r\n        });\r\n        dispatch({\r\n            type: 'CLEAN_LOGS',\r\n            payload: {}\r\n        });\r\n    }\r\n}\r\n\r\nexport function auth() {\r\n    const request = axios.get('/api/auth')\r\n    .then(response => response.data );\r\n    return {\r\n        type: 'USER_AUTH',\r\n        payload: request\r\n    }\r\n}\r\n\r\n// LOGS //\r\n\r\nexport function canUserLog(currentDate, currentTiming, user) {\r\n    const body = {\r\n        userId: user,\r\n        date: currentDate,\r\n        timing: currentTiming\r\n    };\r\n    const request = axios.post('/api/canLog', body);\r\n    return (dispatch) => {\r\n        request.then( ({data}) => {\r\n            let response = {\r\n                canLog: data.canLog\r\n            }\r\n            dispatch({\r\n                type: 'CAN_LOG',\r\n                payload: response\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport function userCannotLog() {\r\n    return {\r\n        type: \"CANNOT_LOG\",\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function getLastLogs(user) {\r\n    const url = `/api/getLogs?id=${user}&limit=9`;\r\n    const request = axios.get(url);\r\n    return (dispatch) => {\r\n        request.then( (response) => {\r\n        dispatch({\r\n            type: 'GET_LAST_LOGS',\r\n            lastLogs: response.data\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport function clearLastLogs() {\r\n    return {\r\n        type: \"CLEAR_LAST_LOGS\",\r\n        lastLogs: null\r\n    }\r\n}\r\n\r\nexport function viewLog(id) {\r\n    const request = axios.get(`/api/getLog?id=${id}`);\r\n    return (dispatch) => {\r\n        request.then(( {data} ) => {\r\n            dispatch({\r\n                type: 'GET_LOG',\r\n                payload: data\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport function clearLog() {\r\n    return {\r\n        type: 'CLEAR_LOG',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function getLogs(user, start, limit, logs) {\r\n    const request = axios.get(`/api/getLogs?id=${user}&skip=${start}&limit=${limit}`)\r\n    .then( (response) =>  {\r\n        if (response.data === \"No logs found\") {\r\n            return [...logs, response.data]\r\n        }\r\n        if (logs) {\r\n            return [...logs, ...response.data]\r\n        } else {\r\n            return response.data\r\n        }\r\n    });\r\n    return {\r\n        type: 'GET_LOGS',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function postLog(user, date, timing, rating, text) {\r\n    const body = {\r\n        ownerId: user,\r\n        date,\r\n        timing,\r\n        rating,\r\n        text\r\n    }\r\n    const request = axios.post('/api/postLog', body)\r\n    .then( (response) => {\r\n        return response.data\r\n    });\r\n    return {\r\n        type: 'POST_LOG',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function clearPostLog() {\r\n    return {\r\n        type: 'CLEAR_POST_LOG',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function getAllLogs(user) {\r\n    const request = axios.get(`/api/getLogs?id=${user}&limit=100`)\r\n    .then( (response) =>  {\r\n        if (response.data === \"No logs found\") {\r\n            return []\r\n        } else {\r\n            return response.data\r\n        }\r\n    });\r\n    return {\r\n        type: 'GET_LOGS',\r\n        payload: request\r\n    }\r\n}\r\n\r\n\r\nexport function clearLogs() {\r\n    return {\r\n        type: 'CLEAR_LOGS',\r\n        payload: null\r\n    }\r\n}\r\n","import React from 'react';\r\nimport styles from './messagebox.module.css';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\nconst MessageBox = (props) => {\r\n    const darkTheme = useTheme();\r\n\r\n    if (darkTheme === true) {\r\n        return (\r\n            <div className={styles.messageBox} style={{ color: \"#f2f2f2\"}}>\r\n                {props.text}\r\n            </div>\r\n        )\r\n    };\r\n    if (props.success) {\r\n        return (\r\n            <div className={styles.messageBox} style={{\r\n                color: \"green\"\r\n            }}>\r\n                {props.text}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className={styles.messageBox} style={{\r\n                color: \"red\"\r\n            }}>\r\n                {props.text}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n};\r\n\r\nexport default MessageBox;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from './../actions';\r\n\r\nimport Button from './../widgets/Button';\r\nimport MessageBox from './../widgets/MessageBox';\r\n\r\nclass LoginForm extends Component {\r\n    state = {\r\n        email: \"\",\r\n        password: \"\",\r\n        success: false,\r\n        message: '',\r\n        isDisabled: false\r\n    }\r\n    handleEmail = (event) => {\r\n        this.setState({\r\n            email: event.target.value,\r\n            message: \"\"\r\n        })\r\n    }\r\n    handlePassword = (event) => {\r\n        this.setState({\r\n            password: event.target.value,\r\n            message: \"\"\r\n        })\r\n    }\r\n    handleForm = () => {\r\n        if (!this.state.isDisabled) {\r\n            if (this.state.email === \"\") {\r\n                this.showErrorMessage(\"Empty e-mail field!\");\r\n                return;\r\n            };\r\n            if (this.state.password === \"\") {\r\n                this.showErrorMessage(\"Please enter your password\");\r\n                return;\r\n            };\r\n            let payload = {\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            }\r\n            this.props.dispatch(loginUser(payload));\r\n            this.setState({\r\n                isDisabled: true\r\n            })\r\n        }\r\n        \r\n    }\r\n    showErrorMessage = (message) => {\r\n        this.setState({\r\n            message: message\r\n        })\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.user.data.isAuth) {\r\n            this.setState({\r\n                message: \"Logged in successfully!\",\r\n                success: true\r\n            });\r\n        } else {\r\n            this.setState({\r\n                message: nextProps.user.data.message,\r\n                success: false,\r\n                isDisabled: false\r\n            })\r\n        }\r\n    }\r\n\r\n    renderMessage = () => {\r\n        if (this.state.success) {\r\n            return ( <MessageBox nightmode={this.props.nightmode} text={this.state.message} success={true}/> )\r\n        } else if (!this.state.success) {\r\n            return ( <MessageBox nightmode={this.props.nightmode} text={this.state.message} success={false}/> )\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Log In</h1>\r\n                <form>\r\n                    <span>Enter your email: </span><br/>\r\n                    <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleEmail}/><br/>\r\n                    <span>Enter your password:</span><br/>\r\n                    <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handlePassword}/><br/><br/>\r\n                    {this.renderMessage()}\r\n                    <div style={{\r\n                        width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"\r\n                    }}>\r\n                        <div onClick={this.handleForm}>\r\n                            <Button color={\"#fffff2\"} background={\"#3366ff\"} disabled={this.state.isDisabled} nightmode={this.props.nightmode}>\r\n                                Log In\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){  \r\n    return {\r\n        user: state.user\r\n    }\r\n} \r\n\r\nexport default connect(mapStateToProps)(LoginForm);","import React from 'react';\r\nimport FormWrapper from './../widgets/FormWrapper';\r\nimport LoginForm from './loginForm';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\nconst Login = () => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <FormWrapper>\r\n            <LoginForm nightmode={darkTheme}/>\r\n        </FormWrapper>\r\n    );\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport styles from './backButton.module.css';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { returnWhite} from './nightmodeColors';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\nconst BackButton = (props) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div className={styles.top_panel}>\r\n            <div className={styles.back_button} onClick={ () => {window.history.back()}}>\r\n                <FontAwesome name=\"arrow-left\" className={styles.back} style={returnWhite(darkTheme)}/>\r\n                <div className={styles.button_text} style={returnWhite(darkTheme)}>Go back</div>\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default BackButton;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createUser } from '../actions';\r\nimport { Link } from 'react-router-dom'\r\nimport Button from './../widgets/Button';\r\nimport MessageBox from './../widgets/MessageBox';\r\nimport styles from './register.module.css';\r\nimport BackButton from './../widgets/backButton';\r\n\r\nclass RegisterForm extends Component {\r\n    state = {\r\n        fname: \"\",\r\n        lname: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        message: null,\r\n        success: null,\r\n        isDisabled: false\r\n    }\r\n    \r\n    handleFName = (event) => {\r\n        this.setState({\r\n            fname: event.target.value,\r\n            message: \"\"\r\n        })\r\n    }\r\n\r\n    handleLName = (event) => {\r\n        this.setState({\r\n            lname: event.target.value,\r\n            message: \"\"\r\n        })\r\n    }\r\n\r\n    handleEmail = (event) => {\r\n        this.setState({\r\n            email: event.target.value,\r\n            message: \"\"\r\n        })\r\n    }\r\n\r\n    handlePassword = (event) => {\r\n        this.setState({\r\n            password: event.target.value,\r\n            message: \"\"\r\n        })\r\n    }\r\n\r\n    handleForm = () => {\r\n        if (this.state.isDisabled) { return; };\r\n        let fname = this.state.fname.trim().length > 0 ? this.state.fname.trim() : null;\r\n        let lname = this.state.lname.trim().length > 0 ? this.state.lname.trim() : null;\r\n        let email = this.state.email.trim().length > 0 ? this.state.email.trim() : null;\r\n        let password = this.state.password.trim().length >= 6 ? this.state.password.trim() : null;\r\n        const payload = {\r\n            email : email,\r\n            password: password,\r\n            firstName : fname,\r\n            lastName : lname\r\n        };\r\n        if (fname && lname && email && password) {\r\n            this.setState({isDisabled: true})\r\n            this.props.dispatch(createUser(payload));\r\n        } else if (this.state.password.trim().length < 6) {\r\n            this.setState({\r\n                success: false,\r\n                message: \"The password needs to be at least 6 characters long\",\r\n                isDisabled: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                success: false,\r\n                message: \"Fill out the missing fields\",\r\n                isDisabled: false\r\n            })\r\n        }\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.user.success) {\r\n            this.setState({\r\n                fname: \"\",\r\n                lname: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                success: true,\r\n                message: \"Your account has been succesfully created!\"\r\n            })\r\n        } else if (nextProps.user.success === false) {\r\n            if (nextProps.user.error.code === 11000) {\r\n                this.setState({\r\n                    success: false,\r\n                    message: \"User with the e-mail listed already exists\",\r\n                    isDisabled: false\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    success: false,\r\n                    message: \"Error, try again later\",\r\n                    isDisabled: false\r\n                })\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    renderMessage = () => {\r\n        if (this.state.message && this.state.success) {\r\n            return ( <MessageBox text={this.state.message} success={this.state.success}/> )\r\n        } else if (this.state.message && !this.state.success) {\r\n            return ( <MessageBox text={this.state.message} success={this.state.success}/> )\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    renderLoginButton = () => {\r\n        if (this.state.success === true) {\r\n            return ( <Link to=\"/login\">\r\n                        <Button color={\"#fffff2\"} background={\"#3366ff\"}>Log in</Button>\r\n                    </Link> )\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Sign up</h1>\r\n                <div>Signing up is easy and takes only a few minutes!</div><br/>\r\n                <form>\r\n                    <span>Enter your first name: </span><br/>\r\n                    <input type=\"text\" name=\"fname\" value={this.state.fname} onChange={this.handleFName}/><br/>\r\n                    <span>Enter your last name: </span><br/>\r\n                    <input type=\"text\" name=\"lname\"  value={this.state.lname} onChange={this.handleLName}/><br/>\r\n                    <span>Enter your e-mail:</span><br/>\r\n                    <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleEmail}/><br/>\r\n                    <span>Enter your password:</span><br/>\r\n                    <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handlePassword}/><br/><br/>\r\n                    {this.renderMessage()}\r\n                    <div className={styles.center_line}>\r\n                        <div onClick={this.handleForm}>\r\n                            <Button color={\"#fffff2\"} disabled={this.state.isDisabled} background={\"#3366ff\"}>\r\n                                Sign Me Up!\r\n                            </Button>\r\n                            {this.renderLoginButton()}\r\n                        </div>\r\n                    </div><br/>\r\n                </form>\r\n                <BackButton/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){  \r\n    return {\r\n        user: state.user\r\n    }\r\n} \r\n\r\nexport default connect(mapStateToProps)(RegisterForm);","import React from 'react';\r\nimport FormWrapper from './../widgets/FormWrapper';\r\nimport RegisterForm from './registerForm';\r\n\r\nconst Register = () => {\r\n    return (\r\n        <div>\r\n            <FormWrapper>\r\n                <RegisterForm/>\r\n            </FormWrapper>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\nimport styles from './loadingNetItem.module.css';\r\n\r\nconst LoadingNetItem = () => {\r\n    return (\r\n        <div className={styles.loadingScreen}>\r\n            <div className={styles.barContainer}>\r\n                <div className={styles.bar}></div>\r\n                <div className={[styles.bar, styles.delay1].join(' ')}></div>\r\n                <div className={[styles.bar, styles.delay2].join(' ')}></div>\r\n            </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default LoadingNetItem;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getLastLogs } from './../actions';\r\nimport styles from './dashboard.module.css';\r\nimport LoadingNetItem from './../widgets/loadingNetItem';\r\nimport { Link } from 'react-router-dom';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { returnWhite, dashboardButtonStyle } from './../widgets/nightmodeColors';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\nconst LastLogsItem = (props) => {\r\n    const darkTheme = useTheme();\r\n    const renderLogs = (arr) => {\r\n        if (arr.length === 0 || typeof(arr) === String) { return null };\r\n        const lastThreeLogs = arr.slice(0,3);\r\n        return lastThreeLogs.map( (item, i) => (\r\n            <div key={i} className={styles.log_wrapper}>\r\n                <div className={styles.log_content}>\r\n                    <div className={styles.rating_box}>{item.rating}</div>\r\n                    <div className={styles.right_box}>\r\n                        <div className={styles.log_date}>{item.date}</div>\r\n                        <div className={styles.log_text}>{item.text}</div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.read_log}>\r\n                    <Link to={`/logs/${item._id}`} style={returnWhite(darkTheme)}>Read more</Link> \r\n                </div>\r\n            </div>\r\n        ))\r\n    }\r\n    if (props.lastLogs) {\r\n        if (props.lastLogs === \"No logs found\") {\r\n            return (\r\n                <div className={styles.grey_text}>\r\n                    There are no logs at the moment <br/><br/>\r\n                    Write Your first one, by pressing the green button at the top\r\n                </div>\r\n            ) \r\n        } else {\r\n            return ( \r\n            <div className={styles.flex_between}> \r\n                <div className={styles.net_itemHeader}>Last logs</div>\r\n                {renderLogs(props.lastLogs)}\r\n                <Link to=\"/logs\"><div className={styles.button_logs} style={dashboardButtonStyle(darkTheme)}>All Logs</div></Link>\r\n            </div> \r\n            )  \r\n        }\r\n    } else {\r\n        return <LoadingNetItem/>\r\n    }\r\n}\r\n\r\nconst MoodStatus = (props) => {\r\n    const darkTheme = useTheme();\r\n    const returnRating = (data) => {\r\n        if (data !== \"No logs found\") {\r\n            let total = 0;\r\n            let quantity = 0;\r\n            data.map( (item) => {\r\n                total += parseInt(item.rating);\r\n                quantity++;\r\n                return null;\r\n            });\r\n            const average = Math.round((total / quantity) * 10) / 10;\r\n            if (Number.isInteger(average)) {\r\n                return `${average}.0`\r\n            }\r\n            return average;\r\n        } else {\r\n            return \"N/A\"\r\n        }\r\n    };\r\n    \r\n    const returnMessage = (rating) => {\r\n        const parsedRating = parseInt(rating);\r\n        if (props.lastLogs.length < 9) {\r\n            return \"\";\r\n        };\r\n        if (parsedRating >= 7.5) {\r\n            return \"Great\"\r\n        };\r\n        if (parsedRating < 7.5 && parsedRating >= 5) {\r\n            return \"Good\"\r\n        };\r\n        if (parsedRating < 5 && parsedRating >= 3) {\r\n            return \"Average\"\r\n        };\r\n        if (parsedRating < 3) {\r\n            return \"Bad\"\r\n        };\r\n    };\r\n\r\n    if (props.lastLogs) {\r\n            return (\r\n                <div className={styles.status_container}>\r\n                    <div className={styles.net_itemHeader}>\r\n                        Latest mood status\r\n                    </div>\r\n                    <div className={styles.status_box} style={dashboardButtonStyle(darkTheme)}>\r\n                        {returnRating(props.lastLogs)}\r\n                    </div>\r\n                    <div className={styles.status_text}>\r\n                        {returnMessage(returnRating(props.lastLogs))}\r\n                    </div>\r\n                    <Link to=\"/stats\" style={{width: \"100%\"}}>\r\n                        <div className={styles.button_logs} style={dashboardButtonStyle(darkTheme)}>\r\n                            Stats\r\n                        </div> \r\n                    </Link>\r\n                </div>\r\n            )\r\n    } else {\r\n        return <LoadingNetItem/>\r\n    }\r\n}\r\n\r\nconst SettingsItem = (props) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div>\r\n            <div className={styles.net_header}>\r\n                Settings\r\n            </div>\r\n            <div className={styles.flex_container}>\r\n                <Link to=\"/settings\" className={styles.flex_container}>\r\n                    <div className={styles.settings_icon_wrapper}> \r\n                        <FontAwesome name=\"cog\" className={styles.settings_icon} style={returnWhite(darkTheme)}/>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LogoutItem = (props) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div>\r\n            <div className={styles.net_header}>\r\n                Log out\r\n            </div>\r\n            <div className={styles.flex_container}>\r\n                <Link to=\"/logout\" className={styles.flex_container}>\r\n                    <div className={styles.logout_icon_wrapper}> \r\n                        <FontAwesome name=\"sign-out\" className={styles.settings_icon} style={returnWhite(darkTheme)}/>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nclass DashboardNet extends Component {\r\n    UNSAFE_componentWillMount() {\r\n        this.props.dispatch(getLastLogs(this.props.user));\r\n    }\r\n    render() {\r\n            return (\r\n                <div className={styles.net}>\r\n                    <div className={styles.net_header}>\r\n                        Your dashboard\r\n                    </div>\r\n                    <div className={styles.net_item}>\r\n                        <LastLogsItem lastLogs={this.props.lastLogs}/>\r\n                    </div>\r\n                    <div className={styles.net_item}>\r\n                        <MoodStatus lastLogs={this.props.lastLogs}/>\r\n                    </div>\r\n                    <div className={styles.net_item} >\r\n                        <SettingsItem/>\r\n                    </div>\r\n                    <div className={styles.net_item}>\r\n                        <LogoutItem/>\r\n                    </div>\r\n                </div>\r\n            )\r\n    }  \r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        lastLogs: state.logs.lastLogs\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(DashboardNet);","import React, {Component} from 'react';\r\nimport FontAwesome from 'react-fontawesome'\r\nimport { connect } from 'react-redux';\r\nimport { canUserLog } from './../actions';\r\nimport styles from './newLog.module.css';\r\nimport LoadingNetItem from './loadingNetItem';\r\nimport { Link } from 'react-router-dom';\r\nimport { returnDarkBackground } from './nightmodeColors';\r\n\r\nclass AddNewLog extends Component {\r\n    state = {\r\n        timeRemaining : 0\r\n    }\r\n    returnDate = () => {\r\n        const date = new Date();\r\n        const month = date.getMonth() < 10 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`;  \r\n        const day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\r\n        let fullDate = [date.getFullYear(), month, day].join('-');\r\n        return fullDate;\r\n    }\r\n    returnDaytime = () => {\r\n        const date = new Date();\r\n        let hour = date.getHours();\r\n        let daytime = ''\r\n        if (hour >= 7 && hour <= 12) {\r\n            daytime = 'Morning'\r\n        };\r\n        if (hour > 12 && hour <= 19) {\r\n            daytime = 'Afternoon'\r\n        };\r\n        if (hour > 19 && hour <= 23) {\r\n            daytime = 'Evening'\r\n        };\r\n        if (hour < 7) {\r\n            daytime = 'Night'\r\n        }\r\n        return daytime\r\n    };\r\n    UNSAFE_componentWillMount() {\r\n        let date = this.returnDate();\r\n        let timing = this.returnDaytime();\r\n        this.props.dispatch(canUserLog(date, timing, this.props.userId))\r\n    };\r\n    returnTimeRemaining() {\r\n        let currentTiming = this.returnDaytime();\r\n        let timeOfNextLog = 0;\r\n        switch(currentTiming) {\r\n            case 'Morning':\r\n                timeOfNextLog = 13;\r\n                break;\r\n            case 'Afternoon' :\r\n                timeOfNextLog = 20;\r\n                break;\r\n            case 'Evening' :\r\n                timeOfNextLog = 7;\r\n                break;\r\n            default:\r\n                timeOfNextLog = 7;\r\n        };\r\n        return `${timeOfNextLog}:00`\r\n    }\r\n    renderButton = (canLog) => {\r\n        if (canLog && this.returnDaytime() !== 'night') {\r\n            return (\r\n                <Link to=\"/addlog\">\r\n                    <div className={[styles.logbutton, styles.available].join(' ')} style={returnDarkBackground(this.props.nightmode)}>\r\n                        <div className={styles.attentionBorder}></div>\r\n                        <FontAwesome name=\"fas fa-plus\" className={styles.floating}/> ADD LOG\r\n                    </div>\r\n                </Link> \r\n            )\r\n        } else {\r\n            return (\r\n                <div className={[styles.logbutton, styles.unavailable].join(' ')}>\r\n                    Next log will be available at: {this.returnTimeRemaining()}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    render(){\r\n        if (this.props.canLog) {\r\n            return (\r\n                <div>\r\n                    {this.renderButton(this.props.canLog.canLog)}\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <LoadingNetItem/>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n    }\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        canLog: state.logs.data\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddNewLog);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DashboardNet from './DashboardNet';\r\nimport AddNewLog from './../widgets/addNewLog';\r\nimport Loading from './../widgets/loading';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\n\r\n\r\nconst UserBoard = (props) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div>\r\n            <div>\r\n                <AddNewLog userId={props.userId} nightmode={darkTheme}></AddNewLog>\r\n            </div>\r\n            <DashboardNet user={props.userId} nightmode={darkTheme}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nclass Dashboard extends Component {\r\n    state = {\r\n        userLogged : false\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.user.data.isAuth) {\r\n            this.setState({\r\n                userLogged : true,\r\n                userId: nextProps.user.data.id\r\n            })\r\n        };\r\n    }\r\n    render() {\r\n        if (this.state.userLogged) {\r\n            return (\r\n                <UserBoard userId={this.state.userId}/>\r\n            )\r\n        }\r\n        return (\r\n            <Loading/>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Dashboard);","import React from 'react';\r\nimport { useTheme } from './../hoc/ThemeContext';\r\nimport { ratingButtonStyle } from './nightmodeColors';\r\nimport styles from './moodbox.module.css';\r\n\r\nconst MoodBox = ({children}) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div className={styles.moodbox} style={ratingButtonStyle(darkTheme)}>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MoodBox;","import React, { Component } from 'react';\r\nimport FormWrapper from './../widgets/FormWrapper';\r\nimport { connect } from 'react-redux';\r\nimport { canUserLog, postLog, clearPostLog, userCannotLog, clearLastLogs } from './../actions';\r\nimport Loading from './../widgets/loading';\r\nimport styles from './addlog.module.css';\r\nimport ButtonWid from './../widgets/Button';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport BackButton from './../widgets/backButton';\r\nimport MoodBox from './../widgets/moodBox';\r\n\r\nclass AddLog extends Component {\r\n    state = {\r\n        dataReceived: false,\r\n        mood: 0,\r\n        text: '',\r\n        moodText: '',\r\n        error: false,\r\n        errorMessage: '',\r\n        logPosted: false,\r\n        disabled: false\r\n    }\r\n    returnDate = () => {\r\n        const date = new Date();\r\n        const month = date.getMonth() < 10 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`;  \r\n        const day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\r\n        let fullDate = [date.getFullYear(), month, day].join('-');\r\n        return fullDate;\r\n    }\r\n    returnDaytime = () => {\r\n        const date = new Date();\r\n        let hour = date.getHours();\r\n        let daytime = ''\r\n        if (hour >= 7 && hour <= 12) {\r\n            daytime = 'Morning'\r\n        };\r\n        if (hour > 12 && hour <= 19) {\r\n            daytime = 'Afternoon'\r\n        };\r\n        if (hour > 19 && hour <= 23) {\r\n            daytime = 'Evening'\r\n        };\r\n        if (hour < 7) {\r\n            daytime = 'Night'\r\n        }\r\n        return daytime\r\n    };\r\n    handleMoodText = (mood) => {\r\n        let moodText = '';\r\n        if (mood >= 9) { moodText = \"Awesome!\" }\r\n        else if (mood >= 7) { moodText = \"Good\" }\r\n        else if (mood >= 5) { moodText = \"Average\" }\r\n        else if (mood >= 3) { moodText = \"Not well\" }\r\n        else if (mood < 3) { moodText = \"Bad\"}\r\n        this.setState({\r\n            moodText: moodText\r\n        })\r\n    }\r\n    handleMoodInput = (event) => {\r\n        let moodRating = event.target.value;\r\n        this.setState({\r\n            mood: moodRating,\r\n            error: false,\r\n            errorMessage: ''\r\n        });\r\n        this.handleMoodText(moodRating);\r\n    }\r\n    handleTextInput = (event) => {\r\n        let text= event.target.value;\r\n        this.setState({\r\n            text: text\r\n        })\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextprops) {\r\n        if (nextprops.user.data.id && !this.state.dataReceived) {\r\n            let timing = this.returnDaytime();\r\n            let date = this.returnDate();\r\n            this.props.dispatch(canUserLog(date, timing, nextprops.user.data.id));\r\n            this.setState({dataReceived: true});\r\n        }\r\n        if (nextprops.user.data && !nextprops.logs.data) {\r\n            this.props.history.push(\"/dashboard\");\r\n        }\r\n        if (nextprops.logs.logPosted) {\r\n            if (nextprops.logs.logPosted.success) {\r\n                this.setState({\r\n                    error: false,\r\n                    errorMessage: \"Log was successfully posted. You will be redirected soon..\",\r\n                    logPosted: true\r\n                });\r\n                setTimeout( () => {\r\n                    this.props.dispatch(userCannotLog());\r\n                    this.props.history.push(\"/dashboard\");\r\n                }, 3000)\r\n            } else {\r\n                this.setState({\r\n                    error: true,\r\n                    errorMessage: \"Something went wrong, try again later\",\r\n                    disabled: false,\r\n                    logPosted: false\r\n                })\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.dispatch(clearPostLog());\r\n        this.props.dispatch(clearLastLogs());\r\n    }\r\n    handleFormData = () => {\r\n        if (this.state.mood === 0) {\r\n            this.setState({\r\n                error: true,\r\n                errorMessage: \"You must rate your mood\"\r\n            })\r\n        } else {\r\n            let timing = this.returnDaytime();\r\n            if (timing === \"Night\") {\r\n                this.setState({\r\n                    error: true,\r\n                    errorMessage: \"Can't post new logs right now. Next log will be available on 7:00\"\r\n                })\r\n            } else {\r\n                if (!this.state.logPosted && !this.state.disabled) {\r\n                    this.setState({\r\n                        disabled: true\r\n                    });\r\n                    this.props.dispatch(postLog(this.props.user.data.id, this.returnDate(), timing, this.state.mood, this.state.text));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleKeyUp = (event) => {\r\n        if (event.keyCode === 13) {\r\n            event.preventDefault();\r\n            this.handleFormData();\r\n        }\r\n    }\r\n\r\n    renderErrorMessage = () => {\r\n        if (this.state.error) {\r\n            return <span style={{color:\"#800000\"}}>{this.state.errorMessage}</span>\r\n        } else if (this.state.logPosted) {\r\n            return <span style={{color:\"#16774f\"}}>{this.state.errorMessage}</span>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    render() {\r\n        if (this.props.logs.data && this.props.user) {\r\n            if (this.props.logs.data.canLog === true) {\r\n                return (\r\n                    <FormWrapper>\r\n                        <h1>Add a Log</h1>\r\n                        <label htmlFor=\"mood\">How do you feel at the moment? Rate your mood:</label><br/>\r\n                        <div className={styles.center}>\r\n                            <MoodBox>\r\n                                {this.state.mood}\r\n                            </MoodBox><br/>\r\n                            <div className={styles.inputLine}>\r\n                                <FontAwesome className={styles.thumb} name=\"thumbs-down\" style={{color: \"#800000\"}}/>\r\n                                <input onChange={this.handleMoodInput} type=\"range\" id=\"mood\" name=\"mood\" min=\"1\" max=\"10\" value={this.state.mood}/>\r\n                                <FontAwesome className={styles.thumb} name=\"thumbs-up\" style={{color: \"#16774f\"}}/>\r\n                            </div><br/>\r\n                            <div>\r\n                                {this.state.moodText}\r\n                            </div>\r\n                        </div><br/>\r\n                        <label htmlFor=\"logtext\">Describe your thoughts: (optional)</label><br/>\r\n                        <textarea id=\"logtext\" name=\"logtext\" onKeyUp={this.handleKeyUp} onChange={this.handleTextInput} value={this.state.text} placeholder=\"What made your day better? Was there any specific situations or thoughts that changed your mood? If you don't want to write anything, leave this field empty.\"></textarea><br/>\r\n                        <div className={styles.inputLine}>\r\n                            {this.renderErrorMessage()}\r\n                        </div>\r\n                        <div className={styles.inputLine}>\r\n                            <div onClick={this.handleFormData}>\r\n                                <ButtonWid color=\"#FFFFFF\" background=\"#3366FF\" disabled={this.state.disabled} nightmode={this.props.nightmode}>Submit</ButtonWid>\r\n                            </div>\r\n                        </div>  \r\n                        <BackButton nightmode={this.props.nightmode}/>  \r\n                    </FormWrapper>\r\n                );\r\n            } else {\r\n                return <Loading nightmode={this.props.nightmode}/>\r\n            }\r\n        } else {\r\n            return <Loading nightmode={this.props.nightmode}/>\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: state.logs\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddLog);","import React from 'react';\r\nimport styles from './logItem.module.css';\r\nimport FontAwesome from 'react-fontawesome';\r\n\r\nconst LogItem = (props) => {\r\n    const date = props.date;\r\n    const timing = props.timing;\r\n    const text = props.text;\r\n    const rating = props.rating;\r\n    return (\r\n        <div className={styles.item}>\r\n            <div className={styles.top_line}>\r\n                <div className={styles.rating_box}>\r\n                    {rating}\r\n                </div>\r\n                <div>\r\n                    <FontAwesome name=\"hourglass\" className={styles.icon}/>\r\n                    {timing}\r\n                </div>\r\n                <div className={styles.date}>\r\n                    <FontAwesome name=\"calendar\" className={styles.icon}/>\r\n                    {date}\r\n                </div>\r\n            </div>\r\n            <div className={styles.text}>\r\n                {text}\r\n            </div>\r\n        </div>\r\n   \r\n   );\r\n};\r\n\r\nexport default LogItem","import React, { Component } from 'react';\r\nimport { getLogs } from './../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from './../widgets/loading';\r\nimport LogItem from './../widgets/logItem';\r\nimport styles from './logs.module.css';\r\nimport BackButton from './../widgets/backButton';\r\nimport ButtonWid from './../widgets/Button';\r\nimport LoadingNetItem from './../widgets/loadingNetItem';\r\n\r\nclass LogList extends Component {\r\n    state = {\r\n        skip: 3\r\n    };\r\n    UNSAFE_componentWillMount() {\r\n        this.props.dispatch(getLogs(this.props.user.data.id, 0, 3));\r\n    }\r\n    loadMoreLogs = () => {\r\n        if (this.props.user.data) {\r\n            let skip = this.state.skip;\r\n            this.props.dispatch(getLogs(this.props.user.data.id, skip, 3, this.props.logs.list));\r\n            skip += 3;\r\n            this.setState({\r\n                skip: skip\r\n            });\r\n        }\r\n    };\r\n    returnLogs = (list) => {\r\n        if (list) {\r\n            return list.map( (item, i) => {\r\n                if (item !== \"No logs found\") {\r\n                    return <LogItem key={i} rating={item.rating} date={item.date} timing={item.timing} text={item.text}/>\r\n                } else {\r\n                    return null;\r\n                }\r\n            })\r\n        } else {\r\n            return <LoadingNetItem/>\r\n        }\r\n    };\r\n    returnLoadMoreButton = (list) => {\r\n        if (list && list.length > 0) {\r\n            const lastElement = list[list.length - 1];\r\n            if (lastElement !== \"No logs found\") {\r\n                return (\r\n                    <ButtonWid background={'#3366FF'} color={'#FFFFFF'}>Load more</ButtonWid>\r\n                )\r\n            } else {\r\n                return null\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <BackButton/>\r\n                <div className={styles.header}>All logs</div>\r\n                <div  className={styles.logs_wrapper}>\r\n                    {this.returnLogs(this.props.logs.list)}\r\n                </div>\r\n                <div className={styles.bottom_panel}>\r\n                    <div onClick={this.loadMoreLogs}>\r\n                        {this.returnLoadMoreButton(this.props.logs.list)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass AllLogs extends Component {\r\n    render() {\r\n        if (this.props.user.data) {\r\n            return <LogList {...this.props}/>\r\n        } else {\r\n            return <Loading/>\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: state.logs,\r\n        user: state.user\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(AllLogs);","import React, { Component } from 'react';\r\nimport { viewLog, clearLog } from './../actions';\r\nimport { connect } from 'react-redux';\r\nimport Loading from './../widgets/loading';\r\nimport styles from './logview.module.css';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport BackButton from './../widgets/backButton';\r\n\r\nclass LogView extends Component {\r\n    UNSAFE_componentWillMount() {\r\n        this.props.dispatch(viewLog(this.props.match.params.id))\r\n    }\r\n    UNSAFE_componentWillUnmount() {\r\n        this.props.dispatch(clearLog())\r\n    }\r\n    render() {\r\n        if (this.props.logs) {\r\n            if (this.props.logs.logInfo) {\r\n                const log = this.props.logs.logInfo.log\r\n                if (log) {\r\n                    return (\r\n                        <div>\r\n                            <div className={styles.top_panel}>\r\n                            <BackButton nightmode={this.props.nightmode}/>\r\n                            </div>\r\n                            <div className={styles.logWrapper}>\r\n                                <div className={styles.top_line}>\r\n                                    <div className={styles.rating_box}>\r\n                                        {log.rating}\r\n                                    </div>\r\n                                    <div>\r\n                                        <FontAwesome name=\"hourglass\" className={styles.icon}/>\r\n                                        {log.timing}\r\n                                    </div>\r\n                                    <div className={styles.date}>\r\n                                        <FontAwesome name=\"calendar\" className={styles.icon}/>\r\n                                        {log.date}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={styles.text}>\r\n                                    {log.text}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                } else {\r\n                    return <Loading nightmode={this.props.nightmode}/>\r\n                }\r\n                \r\n            } else {\r\n                return <Loading nightmode={this.props.nightmode}/>\r\n            }     \r\n        } else {\r\n            return <Loading/>\r\n        } \r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: state.logs\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LogView);","import React, {Component} from 'react';\r\nimport Loading from './../widgets/loading';\r\nimport { connect } from 'react-redux';\r\nimport { logOut, clearLogs } from './../actions';\r\n\r\nclass LogOut extends Component {\r\n    UNSAFE_componentWillMount(){\r\n        this.props.dispatch(logOut());\r\n    }\r\n    componentWillUnmount(){\r\n        this.props.dispatch(clearLogs());\r\n    }\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Loading nightmode={this.props.nightmode}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user,\r\n        logs: state.logs\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(LogOut);","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport FormWrapper from './../widgets/FormWrapper';\r\nimport Loading from './../widgets/loading';\r\nimport ButtonWid from './../widgets/Button';\r\nimport MessageBox from './../widgets/MessageBox';\r\nimport BackButton from './../widgets/backButton';\r\n\r\nimport styles from './settings.module.css';\r\n\r\n\r\nclass Settings extends Component {\r\n    state = {\r\n        dataReceived: false,\r\n        firstName: '',\r\n        lastName: '',\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        dataSuccess: null,\r\n        dataSuccessMessage: '',\r\n        passwordChanged: null,\r\n        passwordChangedMessage: '',\r\n        isDisabled: false   \r\n    }\r\n    UNSAFE_componentWillMount(){\r\n        if (this.props.nightmode === \"false\") {\r\n            this.setState({ nightmode: false });\r\n        } else if (this.props.nightmode === \"true\") {\r\n            this.setState({ nightmode: true})\r\n        }\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextprops) {\r\n        if (nextprops.user.data) {\r\n            const id = nextprops.user.data.id;\r\n            axios.get(`/api/getUser?id=${id}`)\r\n            .then( ({data}) => {\r\n                const firstName = data.doc.firstName;\r\n                const lastName = data.doc.lastName;\r\n                this.setState({\r\n                    dataReceived: true,\r\n                    firstName,\r\n                    lastName\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFirstName = (event) => {\r\n        let firstName = event.target.value;\r\n        this.setState({firstName, dataSuccess : null})\r\n    }\r\n    handleLastName = (event) => {\r\n        let lastName = event.target.value;\r\n        this.setState({lastName, dataSuccess : null})\r\n    }\r\n    handleCurrentPassword = (event) => {\r\n        let currentPassword = event.target.value;\r\n        this.setState({currentPassword, passwordChanged : null})\r\n    }\r\n    handleNewPassword = (event) => {\r\n        let newPassword = event.target.value;\r\n        this.setState({newPassword, passwordChanged : null})\r\n    }\r\n\r\n    saveChanges = () => {\r\n        if (this.state.isDisabled) return;\r\n        this.setState({isDisabled: true})\r\n        const body = {\r\n            _id : this.props.user.data.id,\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName\r\n        };\r\n        axios.post('/api/editAccount/', body)\r\n        .then( ( {data} ) => {\r\n            if (data.success) {\r\n                this.setState({\r\n                    dataSuccess: true,\r\n                    dataSuccessMessage: 'Data changed successfully',\r\n                    isDisabled: false\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    dataSuccess: false,\r\n                    dataSuccessMessage: 'Something went wrong, try again later',\r\n                    isDisabled: false\r\n                })\r\n            }\r\n        })\r\n        .catch( (err) => {\r\n            this.setState({\r\n                dataSuccess: false,\r\n                dataSuccessMessage: err.data\r\n            })\r\n        })\r\n    }\r\n\r\n    renderDataChangedMessage = () => {\r\n        if (this.state.dataSuccess !== null) {\r\n            return <MessageBox success={this.state.dataSuccess} text={this.state.dataSuccessMessage} nightmode={this.props.nightmode}/>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    renderPasswordChangedMessage = () => {\r\n        if (this.state.passwordChanged !== null) {\r\n            return <MessageBox success={this.state.passwordChanged} text={this.state.passwordChangedMessage} nightmode={this.props.nightmode}/>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    saveNewPassword = () => {\r\n        if (this.state.isDisabled) return;\r\n        const oldpassword = this.state.currentPassword;\r\n        const newpassword = this.state.newPassword;\r\n        const _id = this.props.user.data.id;\r\n        const body = {\r\n            _id, oldpassword, newpassword\r\n        };\r\n        if (newpassword.trim().length < 6) {\r\n            this.setState({\r\n                passwordChanged: false,\r\n                passwordChangedMessage: \"The password is too short. You must pick a password longer than 6 characters\"\r\n            })\r\n            return;\r\n        } else {\r\n            this.setState({isDisabled: true})\r\n            axios.post('/api/changePassword', body)\r\n            .then( ({data}) => {\r\n                if (data.error === true) {\r\n                    this.setState({\r\n                        passwordChanged: false,\r\n                        passwordChangedMessage: data.message,\r\n                        isDisabled: false\r\n                    })\r\n                };\r\n                if (data.error === false) {\r\n                    this.setState({\r\n                        passwordChanged: true,\r\n                        passwordChangedMessage: data.message,\r\n                        currentPassword: '',\r\n                        newPassword: '',\r\n                        isDisabled: false\r\n                    });\r\n                }\r\n                if (!data) {\r\n                    this.setState({\r\n                        passwordChanged: false,\r\n                        passwordChangedMessage: \"An error occured. Try again later\",\r\n                        isDisabled: false\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    redirectToDeleteAccount = () => {\r\n        window.location = \"/delete\"\r\n    }\r\n\r\n    render() {\r\n        if (this.props.user && this.state.dataReceived) {\r\n            return (\r\n                <div>\r\n                    <BackButton nightmode={this.props.nightmode}/>\r\n                    <FormWrapper>\r\n                        <h1>Account settings</h1><br/>\r\n                        <span><b>User: </b> {this.props.user.data.email} </span><br/>\r\n                        <h2>Edit details:</h2>\r\n                        <label htmlFor=\"firstName\">Your first name:</label>\r\n                        <input type=\"text\" name=\"firstName\" onChange={this.handleFirstName} value={this.state.firstName}/>\r\n                        <label htmlFor=\"lastName\">Your last name:</label>\r\n                        <input type=\"text\" name=\"lastName\"  onChange={this.handleLastName} value={this.state.lastName}/>\r\n                        {this.renderDataChangedMessage()}\r\n                        <div className={styles.center}>\r\n                            <div onClick={this.saveChanges}>\r\n                                <ButtonWid background=\"#3366FF\" color=\"#FFFFFF\" disabled={this.state.isDisabled} \r\n                                nightmode={this.props.nightmode}>Save changes</ButtonWid>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </FormWrapper><br/>\r\n\r\n                    <FormWrapper>\r\n                        <h2>Edit password:</h2>\r\n                        <label htmlFor=\"password1\">Enter your current password:</label>\r\n                        <input type=\"password\" onChange={this.handleCurrentPassword}></input>\r\n                        <label htmlFor=\"password2\">Enter your new password:</label>\r\n                        <input type=\"password\" onChange={this.handleNewPassword}></input>\r\n                        {this.renderPasswordChangedMessage()}\r\n                        <div className={styles.center}>\r\n                            <div onClick={this.saveNewPassword}>\r\n                                <ButtonWid background=\"#3366FF\" color=\"#FFFFFF\" disabled={this.state.isDisabled} \r\n                                nightmode={this.props.nightmode}>Change password</ButtonWid>\r\n                            </div>\r\n                        </div>\r\n                    </FormWrapper>\r\n\r\n                    <FormWrapper>\r\n                        <h2>Delete account:</h2>\r\n                        <div className={styles.center}>\r\n                            <div onClick={this.redirectToDeleteAccount}>\r\n                                <ButtonWid background=\"#3366FF\" color=\"#FFFFFF\" nightmode={this.props.nightmode}>Delete account</ButtonWid>\r\n                            </div>\r\n                        </div>\r\n                    </FormWrapper>\r\n                    \r\n\r\n                </div>\r\n            )\r\n        } else {\r\n            return <Loading nightmode={this.props.nightmode}/>\r\n        }\r\n    }\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react';\r\nimport styles from './stats.module.css';\r\nimport { graphStroke } from './../../widgets/nightmodeColors';\r\nimport { useTheme } from './../../hoc/ThemeContext';\r\n\r\nconst ReturnGraph = ( {points} ) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <polyline points={points} className={styles.graph_stroke} \r\n        style={graphStroke(darkTheme)}/>\r\n    )\r\n}\r\n\r\nclass GraphCanvas extends Component {\r\n    state = {\r\n        width: 0\r\n    }\r\n    constructor(props){\r\n        super(props);\r\n        this.myInput = React.createRef()\r\n    };\r\n    returnPolylinePoints = (list) => {\r\n        let pointsString = '';\r\n        const elementWidth = this.state.width;\r\n        for (let i = 0; i < list.length; i++) {\r\n            let ratingYpos = 220 - (list[i] * 20);\r\n            pointsString += (Math.floor((elementWidth / 21) * (list.length - i - 1))) + \",\" + ratingYpos + \" \"; \r\n        }\r\n        return pointsString\r\n    }\r\n    componentDidMount () {\r\n        window.addEventListener('resize', () => {\r\n            let newWidth = 0;\r\n            if (this.myInput.current) {\r\n                newWidth = this.myInput.current.offsetWidth;\r\n            } else {\r\n                newWidth = 490;\r\n            };\r\n            if (newWidth !== this.state.width) {\r\n                this.setState({\r\n                    width: newWidth\r\n                })\r\n            };\r\n        });\r\n        if (this.state.width === 0 && this.myInput !== null) {\r\n            this.setState({\r\n                width: this.myInput.current.offsetWidth\r\n            })\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.graph_canvas} ref={this.myInput} >\r\n                <div className={styles.y_axis_number}>10</div>\r\n                <div className={styles.y_axis_number} style={{transform: \"translate(10px, 100px)\"}}>5</div>\r\n                <div className={styles.y_axis_number} style={{transform: \"translate(10px, 200px)\"}}>0</div>\r\n                <svg width={\"100%\"} height={\"100%\"}>\r\n                    <polyline points={\"1,20 490,20\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,40 490,40\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,60 490,60\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,80 490,80\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,100 490,100\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,120 490,120\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,140 490,140\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,160 490,160\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,180 490,180\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <polyline points={\"1,200 490,200\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n                    <ReturnGraph points={this.returnPolylinePoints(this.props.list)} />\r\n                </svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GraphCanvas;","import React from 'react';\r\nimport styles from './stats.module.css';\r\n\r\nimport morningIcon from './morning.svg';\r\nimport afternoonIcon from './afternoon.svg';\r\nimport eveningIcon from './evening.svg';\r\n\r\nimport { useTheme } from './../../hoc/ThemeContext';\r\n\r\nconst DaytimeGraph = ({obj, nightmode}) => {\r\n    const darkTheme = useTheme();\r\n\r\n    const returnIconClass = (nm) => {\r\n        if (nm === true) {\r\n            return `${styles.daytime_icon_nightmode}`\r\n        } else {\r\n            return `${styles.daytime_icon}`\r\n        }\r\n    }\r\n\r\n    const returnBullet = (rating, left) => {\r\n        if (rating !== \"N/A\") {\r\n            return (\r\n                <div className={styles.daytime_bullet} style={{bottom:`${rating * 30 -10}px`, left:`${left}`}}>\r\n                    <div className={styles.daytime_bullet_text}>{rating}</div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.daytime_canvas}>\r\n            <svg width={\"100%\"} height={\"100%\"} overflow={\"hidden\"}>\r\n            <polyline points={\"1,60 300,60\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n            <polyline points={\"1,120 300,120\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n            <polyline points={\"1,180 300,180\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n            <polyline points={\"1,240 300,240\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n            <polyline points={\"1,300 300,300\"} style={{fill:\"none\", stroke:\"#cccccc\", strokeWidth:\"1\"}}/>\r\n            </svg>\r\n            {returnBullet(obj.morningAverage, null)}\r\n            {returnBullet(obj.afternoonAverage, \"48%\")}\r\n            {returnBullet(obj.eveningAverage, \"82%\")}\r\n            <div className={styles.y_axis_number_daytime} style={{top:\"-12px\"}}>10</div>\r\n            <div className={styles.y_axis_number_daytime} style={{top:\"48px\", left: \"-15px\"}}>8</div>\r\n            <div className={styles.y_axis_number_daytime} style={{top:\"108px\", left:\"-15px\"}}>6</div>\r\n            <div className={styles.y_axis_number_daytime} style={{top:\"168px\", left:\"-15px\"}}>4</div>\r\n            <div className={styles.y_axis_number_daytime} style={{top:\"228px\", left:\"-15px\"}}>2</div>\r\n            <div className={styles.daytime_bottom_line}>\r\n            <div className={styles.daytime_time}>7:00</div>\r\n            <div className={styles.daytime_time} style={{left:\"33%\"}}>13:00</div>\r\n            <div className={styles.daytime_time} style={{left:\"66%\"}}>20:00</div>\r\n            <div className={styles.daytime_time} style={{left:\"100%\"}}>00:00</div>\r\n            <img src={morningIcon} className={returnIconClass(darkTheme)} style={{left:\"13%\", padding: \"2px\"}} alt=\"none\"/>\r\n            <img src={afternoonIcon} className={returnIconClass(darkTheme)} style={{left:\"48%\"}} alt=\"none\"/>\r\n            <img src={eveningIcon} className={returnIconClass(darkTheme)} style={{left:\"82%\"}} alt=\"none\"/>\r\n            </div>    \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DaytimeGraph;","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAllLogs } from './../../actions';\r\n\r\n// Widgets\r\nimport Loading from './../../widgets/loading';\r\nimport BackButton from './../../widgets/backButton';\r\nimport GraphCanvas from './GraphCanvas';\r\nimport DaytimeGraph from './DaytimeGraph';\r\nimport styles from './stats.module.css';\r\n// Functions\r\nimport { countAverage, lastSevenDaysAverage, listToArray, returnDaytimeStats} from './statsFunctions';\r\nimport { ratingButtonStyle } from './../../widgets/nightmodeColors';\r\nimport { useTheme } from './../../hoc/ThemeContext';\r\n\r\nconst AverageBox = ( {children }) => {\r\n    const darkTheme = useTheme();\r\n    return (\r\n        <div className={styles.average_box} style={ratingButtonStyle(darkTheme)}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nclass Stats extends Component {\r\n    state = {\r\n        dataReceived: false\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextprops){\r\n        if (nextprops.user.data && this.state.dataReceived === false) {\r\n            this.props.dispatch(getAllLogs(nextprops.user.data.id));\r\n            this.setState({\r\n                dataReceived: true\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        if (this.props.user.data && this.props.logs.list) {\r\n            if (this.props.logs.list.length > 0) {\r\n                const sevenDayAverageObject = lastSevenDaysAverage(this.props.logs.list);\r\n                const listToArrayObject = listToArray(this.props.logs.list);\r\n                const daytimeAverageObject = returnDaytimeStats(this.props.logs.list);\r\n                return (\r\n                    <div className={styles.container}>\r\n                        <BackButton/>\r\n                        <h1>User stats</h1>\r\n                        <div className={styles.first_block}>\r\n                            <div className={styles.average_block}>\r\n                                <b>Your average mood:</b>\r\n                                <AverageBox>{countAverage(this.props.logs.list)}</AverageBox>\r\n                                <div className={styles.small_text_box}>Retrieved from the last 100 logs</div>\r\n                            </div>\r\n                            <div className={styles.average_block}>\r\n                                <b>7 day mood:</b>\r\n                                <AverageBox>{sevenDayAverageObject.average}</AverageBox>\r\n                                <div className={styles.small_text_box}>Counted from the last 7 active days from <br/>\r\n                                {sevenDayAverageObject.firstDay} to {sevenDayAverageObject.lastDay}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.graph_container}>\r\n                            <b>Your mood graph</b>\r\n                            <GraphCanvas list={listToArrayObject.arr}/>\r\n                            <div> From {listToArrayObject.firstDay} to {listToArrayObject.lastDay}</div>\r\n                        </div>\r\n                        <div className={styles.daytime_container}>\r\n                            <b>Your mood throughout the day:</b><br/>\r\n                            <DaytimeGraph obj={daytimeAverageObject}/>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return (\r\n                    <div>\r\n                        <BackButton/>\r\n                        No logs to be found for the statistics\r\n                    </div>\r\n                )\r\n            }\r\n        } else {\r\n            return <Loading/>\r\n        }\r\n        \r\n    }\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        user: state.user,\r\n        logs: state.logs\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Stats);","// STATS FUNCTIONS\r\nexport function countAverage(list) {\r\n    let sum = 0;\r\n    for (let i = 0; i < list.length; i++) {\r\n        let num = Number(list[i].rating);\r\n        sum += num\r\n    };\r\n    return (Math.floor(sum * 10 / list.length) / 10)\r\n};\r\nexport function lastSevenDaysAverage(list) {\r\n    let dates = [];\r\n    let sum = 0;\r\n    let count = 0;\r\n    for (let i = 0; i < list.length; i++) {\r\n        let date = list[i].date;\r\n        if (dates.indexOf(date) < 0) {\r\n            dates.push(list[i].date);\r\n            sum += Number(list[i].rating);\r\n            count++;\r\n        } else if (dates.indexOf(date) >= 0) {\r\n            sum += Number(list[i].rating);\r\n            count++;\r\n        };\r\n        if (dates.length >= 7) {\r\n            break;\r\n        }\r\n    };\r\n    const average = Math.floor(sum * 10 / count) / 10;\r\n    const firstDay = dates[dates.length - 1] ? dates[dates.length - 1] : \"N/A\";\r\n    const lastDay = dates[0] ? dates[0] : \"N/A\";\r\n    return {\r\n        average,\r\n        firstDay,\r\n        lastDay\r\n    }\r\n};\r\nexport function listToArray(list) {\r\n    let arr = [];\r\n    let firstDay = '';\r\n    let lastDay = '';\r\n    for (let i = 0; i < list.length; i++) {\r\n        arr.push(Number(list[i].rating));\r\n        if (i === 0) {\r\n            lastDay = list[i].date;\r\n        };\r\n        if (i === list.length - 1) {\r\n            firstDay = list[i].date;\r\n        };\r\n        if (i === 20) {\r\n            firstDay = list[i].date;\r\n            break;\r\n        }\r\n    };\r\n    return {\r\n        arr,\r\n        firstDay,\r\n        lastDay\r\n    };\r\n}\r\nexport function returnDaytimeStats(list) {\r\n    let morningSum = 0;\r\n    let morningCount = 0;\r\n    let afternoonSum = 0;\r\n    let afternoonCount = 0;\r\n    let eveningSum = 0;\r\n    let eveningCount = 0;\r\n    for (let i = 0; i < list.length; i++) {\r\n        if (list[i].timing === \"Morning\") {\r\n            morningSum += Number(list[i].rating);\r\n            morningCount++;\r\n        }\r\n        if (list[i].timing === \"Afternoon\") {\r\n            afternoonSum += Number(list[i].rating);\r\n            afternoonCount++;\r\n        }\r\n        if (list[i].timing === \"Evening\") {\r\n            eveningSum += Number(list[i].rating);\r\n            eveningCount++;\r\n        }\r\n    };\r\n    const morningAverage = morningCount === 0 ? \"N/A\" : Math.floor(morningSum * 10 / morningCount) / 10;\r\n    const afternoonAverage = afternoonCount === 0 ? \"N/A\" : Math.floor(afternoonSum * 10 / afternoonCount) / 10;\r\n    const eveningAverage = eveningCount === 0 ? \"N/A\" : Math.floor(eveningSum * 10 / eveningCount) / 10;\r\n    return {\r\n        morningAverage,\r\n        afternoonAverage,\r\n        eveningAverage\r\n    }\r\n};\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport FormWrapper from './../widgets/FormWrapper';\r\nimport Loading from './../widgets/loading';\r\nimport ButtonWid from './../widgets/Button';\r\nimport MessageBox from './../widgets/MessageBox';\r\nimport BackButton from './../widgets/backButton';\r\n\r\nimport styles from './settings.module.css';\r\n\r\nimport { deleteUser } from './../actions';\r\n\r\n\r\nclass DeleteAccount extends Component {\r\n    state = {\r\n        password: '',\r\n        password_confirm: '',\r\n        isDisabled: false,\r\n        error: null,\r\n        errorMsg : ''\r\n    }\r\n\r\n    handlePassword = (event) => {\r\n        let password = event.target.value;\r\n        this.setState({password, error: null})\r\n    }\r\n    handlePasswordConfirm = (event) => {\r\n        let password_confirm = event.target.value;\r\n        this.setState({password_confirm, error : null})\r\n    }\r\n\r\n    renderErrorMessage = () => {\r\n        if (this.state.error === true) {\r\n            return <MessageBox success={!this.state.error} text={this.state.errorMsg}/>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    handleDeleteAccount = () => {\r\n        // Empty fields\r\n        if (this.state.password.trim().length === 0 || this.state.password_confirm.trim().length === 0) {\r\n            this.setState({\r\n                error: true,\r\n                errorMsg : \"Fields cannot be empty\"\r\n            });\r\n            return;\r\n        }\r\n        // Passwords do not match\r\n        if (this.state.password.trim() !== this.state.password_confirm.trim()) {\r\n            this.setState({\r\n                error: true,\r\n                errorMsg : \"Passwords do not match\"\r\n            });\r\n            return;\r\n        }\r\n        // \r\n        this.setState({isDisabled : true});\r\n        let password = this.state.password.trim();\r\n        let userId = this.props.user.data.id;\r\n        const body = {\r\n            password,\r\n            userId\r\n        }\r\n        axios.post(`/api/deleteAccount`, body)\r\n        .then( (response) => {\r\n            if (response.data.error === true) {\r\n                this.setState({\r\n                    error: true,\r\n                    errorMsg : response.data.message,\r\n                    isDisabled : false\r\n                })\r\n            } else {\r\n                this.props.dispatch(deleteUser());\r\n                this.props.history.push('/');\r\n            }\r\n        })\r\n    }\r\n\r\n    saveNewPassword = () => {\r\n        if (this.state.isDisabled) return;\r\n        const oldpassword = this.state.currentPassword;\r\n        const newpassword = this.state.newPassword;\r\n        const _id = this.props.user.data.id;\r\n        const body = {\r\n            _id, oldpassword, newpassword\r\n        };\r\n        if (newpassword.trim().length < 6) {\r\n            this.setState({\r\n                passwordChanged: false,\r\n                passwordChangedMessage: \"The password is too short. You must pick a password longer than 6 characters\"\r\n            })\r\n            return;\r\n        } else {\r\n            this.setState({isDisabled: true})\r\n            axios.post('/api/changePassword', body)\r\n            .then( ({data}) => {\r\n                if (data.error === true) {\r\n                    this.setState({\r\n                        passwordChanged: false,\r\n                        passwordChangedMessage: data.message,\r\n                        isDisabled: false\r\n                    })\r\n                };\r\n                if (data.error === false) {\r\n                    this.setState({\r\n                        passwordChanged: true,\r\n                        passwordChangedMessage: data.message,\r\n                        currentPassword: '',\r\n                        newPassword: '',\r\n                        isDisabled: false\r\n                    });\r\n                }\r\n                if (!data) {\r\n                    this.setState({\r\n                        passwordChanged: false,\r\n                        passwordChangedMessage: \"An error occured. Try again later\",\r\n                        isDisabled: false\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.user) {\r\n            return (\r\n                <div>\r\n                    <BackButton/>\r\n                    <FormWrapper>\r\n                        <h2>Delete account:</h2>\r\n                        <label htmlFor=\"password\">Enter your password:</label>\r\n                        <input type=\"password\" onChange={this.handlePassword}></input>\r\n                        <label htmlFor=\"password_confirm\">Confirm your password:</label>\r\n                        <input type=\"password\" onChange={this.handlePasswordConfirm}></input>\r\n                        {this.renderErrorMessage()}\r\n                        <div className={styles.center}>\r\n                            <div onClick={this.handleDeleteAccount}>\r\n                                <ButtonWid background=\"#3366FF\" color=\"#FFFFFF\" disabled={this.state.isDisabled}>\r\n                                    Delete account\r\n                                </ButtonWid>\r\n                            </div>\r\n                        </div>\r\n                    </FormWrapper>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <Loading/>\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: state.logs\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(DeleteAccount);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { auth } from './../actions';\r\n\r\nexport default function(ComposedClass, reload) {\r\n    class AuthenticationCheck extends Component {\r\n        UNSAFE_componentWillMount() {\r\n            this.props.dispatch(auth());\r\n        }\r\n        UNSAFE_componentWillReceiveProps(nextProps) {\r\n            if (!nextProps.user.data.isAuth) {\r\n                if (reload === true && typeof(data) !== String) {\r\n                    this.props.history.push('/login');\r\n                }\r\n            } else if (nextProps.user.data.isAuth === true) {\r\n                if (reload === false) {\r\n                    this.props.history.push('/dashboard')\r\n                }\r\n            }\r\n        }\r\n        render() {\r\n            return (\r\n                <ComposedClass {...this.props} user={this.props.user}/>\r\n            )\r\n        }\r\n    }\r\n    function mapStateToProps(state) {\r\n        return {\r\n            user: state.user\r\n        }\r\n    }\r\n    return connect(mapStateToProps)(AuthenticationCheck)\r\n};","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\n// Components\r\nimport Layout from './hoc/layout';\r\nimport Home from './components/Home';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Dashboard from './components/Dashboard';\r\nimport AddLog from './components/AddLog';\r\nimport AllLogs from './components/AllLogs';\r\nimport LogView from './components/LogView';\r\nimport LogOut from './components/LogOut';\r\nimport Settings from './components/Settings';\r\nimport Stats from './components/stats/Stats';\r\nimport DeleteAccount from './components/DeleteAccount';\r\n\r\nimport Auth from './hoc/auth';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <Layout>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Auth(Home, null)}></Route>\r\n                <Route path=\"/login\" exact component={Auth(Login, false)}></Route>\r\n                <Route path=\"/register\" exact component={Auth(Register, null)}></Route>\r\n                <Route path=\"/dashboard\" exact component={Auth(Dashboard, true)}></Route>\r\n                <Route path=\"/addlog\" exact component={Auth(AddLog,true)}></Route>\r\n                <Route path=\"/logs\" exact component={Auth(AllLogs, true)}></Route>\r\n                <Route path=\"/logs/:id\" exact component={Auth(LogView, true)}></Route>\r\n                <Route path=\"/logout\" exact component={Auth(LogOut, true)}></Route>\r\n                <Route path=\"/settings\" exact component={Auth(Settings, true)}></Route>\r\n                <Route path=\"/delete\" exact component={Auth(DeleteAccount, true)}></Route>\r\n                <Route path=\"/stats\" exact component={Auth(Stats, true)}></Route>\r\n            </Switch>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Routes;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport promiseMiddleware from 'redux-promise';\r\nimport ReduxThunk from 'redux-thunk';\r\nimport reducers from './reducers/index';\r\nimport Routes from './routes';\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.register();\r\n\r\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\r\n\r\nReactDOM.render(\r\n    <Provider store={createStoreWithMiddleware(reducers)}>\r\n        <BrowserRouter>\r\n            <Routes/>\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1DoJB\",\"top\":\"header_top__2A9Qd\",\"logo\":\"header_logo__2Ot2R\",\"bars\":\"header_bars__3rSm_\",\"navBar\":\"header_navBar__1ETXC\",\"appearTop\":\"header_appearTop__ki9xL\",\"navBarDark\":\"header_navBarDark__qdi2X\",\"fadeIn\":\"header_fadeIn__2GvaS\",\"navItem\":\"header_navItem__6xmHH\",\"nightmode_button\":\"header_nightmode_button__3F4hB\",\"nightmode_button_caption\":\"header_nightmode_button_caption__SPxOm\",\"rotateButton\":\"header_rotateButton__3XFVc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"stats_container__7qyST\",\"first_block\":\"stats_first_block__n6IuM\",\"average_block\":\"stats_average_block__1mXUN\",\"average_box\":\"stats_average_box__q1c7t\",\"small_text_box\":\"stats_small_text_box__3HTmP\",\"graph_container\":\"stats_graph_container__17VsB\",\"graph_canvas\":\"stats_graph_canvas__13LjJ\",\"graph_stroke\":\"stats_graph_stroke__3pMDT\",\"y_axis_number\":\"stats_y_axis_number__2sSge\",\"daytime_container\":\"stats_daytime_container__aeY41\",\"daytime_canvas\":\"stats_daytime_canvas__3SsMi\",\"daytime_bullet\":\"stats_daytime_bullet__2nK2B\",\"daytime_bullet_text\":\"stats_daytime_bullet_text__2KQCx\",\"y_axis_number_daytime\":\"stats_y_axis_number_daytime__2THnf\",\"daytime_bottom_line\":\"stats_daytime_bottom_line__1A-5o\",\"daytime_time\":\"stats_daytime_time__1TgsY\",\"daytime_icon\":\"stats_daytime_icon__2Utyt\",\"daytime_icon_nightmode\":\"stats_daytime_icon_nightmode__2Cyk7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logWrapper\":\"logview_logWrapper__1FmLr\",\"rating_box\":\"logview_rating_box__1ExsM\",\"icon\":\"logview_icon__VtSUG\",\"top_line\":\"logview_top_line__2XIs-\",\"date\":\"logview_date__33VcB\",\"text\":\"logview_text__2g1Z_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingScreen\":\"loading_loadingScreen__23dXG\",\"barContainer\":\"loading_barContainer__JVc1y\",\"bar\":\"loading_bar__I3yZo\",\"wave\":\"loading_wave__1LPKk\",\"delay1\":\"loading_delay1__1fsdO\",\"delay2\":\"loading_delay2__1kcQr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingScreen\":\"loadingNetItem_loadingScreen__2wk82\",\"barContainer\":\"loadingNetItem_barContainer__yAHHU\",\"bar\":\"loadingNetItem_bar__2U8uR\",\"wave\":\"loadingNetItem_wave__2LsNr\",\"delay1\":\"loadingNetItem_delay1__3r3Db\",\"delay2\":\"loadingNetItem_delay2__2uits\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"logItem_item__3KOEY\",\"rating_box\":\"logItem_rating_box__2QNdT\",\"icon\":\"logItem_icon__2X5GM\",\"top_line\":\"logItem_top_line__3_BWs\",\"date\":\"logItem_date__333zP\",\"text\":\"logItem_text__3UfvI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"home_wrapper__2BDsM\",\"bigLogo\":\"home_bigLogo__2QwOJ\",\"text\":\"home_text__1G0-B\",\"textAlt\":\"home_textAlt__1s2Ul\",\"buttons\":\"home_buttons__2l109\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logbutton\":\"newLog_logbutton__3I18j\",\"available\":\"newLog_available__1tNvA\",\"unavailable\":\"newLog_unavailable__zl2uo\",\"floating\":\"newLog_floating__1UMAC\",\"attentionBorder\":\"newLog_attentionBorder__1bf9d\",\"at-border\":\"newLog_at-border__2UryB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"addlog_center__2Aqua\",\"inputLine\":\"addlog_inputLine__1YSOg\",\"thumb\":\"addlog_thumb__2V9UZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"settings_center__T2-mN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top_panel\":\"backButton_top_panel__lCZ9R\",\"button_text\":\"backButton_button_text__2VCnX\",\"back_button\":\"backButton_back_button__1j5Gv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageBox\":\"messagebox_messageBox__h5ZuK\",\"animate\":\"messagebox_animate__1To0z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"logs_header__3d_3m\",\"bottom_panel\":\"logs_bottom_panel__3hmbf\",\"logs_wrapper\":\"logs_logs_wrapper__1-N07\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__GK1oR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"formwrapper_formWrapper__d-Ctr\",\"formWrappe\":\"formwrapper_formWrappe__1-h7l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center_line\":\"register_center_line__2iHwu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moodbox\":\"moodbox_moodbox__hnKwq\"};","module.exports = __webpack_public_path__ + \"static/media/morning.32026445.svg\";","module.exports = __webpack_public_path__ + \"static/media/afternoon.1bf5e1d2.svg\";","module.exports = __webpack_public_path__ + \"static/media/evening.30a34177.svg\";"],"sourceRoot":""}